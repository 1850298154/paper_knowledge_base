%!TEX root = ./main.tex

\section{Incomparability of $\SyncPDOffline$ and \seqc}
\applabel{incomp}
In this section we provide two example traces and discuss the deadlocks found and missed on them by \seqc and \SyncPDOffline.
\exref{incomp-ex1} discusses a trace which contains a deadlock found by \SyncPDOffline but missed by \seqc.
\exref{incomp-ex2} discusses a trace which contains a deadlock found by \seqc but missed by \SyncPDOffline.
These examples showcase the incomparability of the techniques \SyncPDOffline and \seqc.

\begin{example}
\exlabel{incomp-ex1}
\figref{incomp1} displays a trace $\sigma$ in which \SyncPDOffline reports a deadlock whereas \seqc misses the deadlock.
In this trace, there is a single deadlock pattern $\pattern{e_4, e_{14}}$.
This deadlock pattern can be realized by the sync-preserving correct reordering $\rho = e_3, e_{12}, e_{13}, e_8, e_9$.
However, this deadlock is missed by \seqc.
The reason for this can be explained as follows.
First, observe that a correct reordering of $\sigma$ would need to include the event $e_{13}$ and consequently $e_9 = \rf{\sigma}(e_{13})$.
A strategy that \seqc employs when it is producing correct reorderings is that it aims to close all the critical sections that appear in the reordering.
In order to fulfill this constraint, \seqc closes the critical section on lock $\LockColorOne{\lk_1}$ in thread $t_1$.
This requires \seqc to execute the read event $e_{10}$ as well as the event $e_7 = \rf{\sigma}(e_{10})$.
This in turn causes \seqc to execute the events $e_3\ldots e_6$.
Observe that the first event that appears in the deadlock pattern, $e_4$, can no longer be scheduled concurrently with $e_{14}$.
Hence, \seqc is unable to report a deadlock in this trace.
\end{example}

\begin{example}
\exlabel{incomp-ex2}
\figref{incomp2} display a trace $\sigma$ in which \seqc reports one more deadlock than \SyncPDOffline.
In this trace there are two deadlock patterns $\pattern{e_2, e_{6}}$ and $\pattern{e_2, e_{8}}$.
The first deadlock pattern $\pattern{e_2, e_{6}}$ can be realized to a real deadlock by both \seqc and \SyncPDOffline. 
The second deadlock pattern  $\pattern{e_2, e_{8}}$ cannot be realized to a real deadlock by \SyncPDOffline.
Whereas, \seqc is able to report this as a real deadlock.
The reason why \SyncPDOffline misses the second deadlock can be explained as follows.
The computed sync-preserving closure for the second deadlock pattern is $\SPClosure{\tr}(\prev{\tr}(\{ e_{2},e_{8}\})) = \set{e_1,\ldots, e_4,e_5,\ldots,e_7}$.
Since the \SyncPDOffline algorithm cannot reverse the order of critical sections on a given lock, 
it always enforces to close the critical section on lock $\LockColorOne{\lk_1}$ in thread $t_2$ after the one in $t_1$.
This brings the event $e_2$ into the sync-preserving closure of $\pattern{e_2, e_{8}}$
and disables \SyncPDOffline from realizing this deadlock pattern.
\end{example}


\input{figures/fig_incomp1}
\input{figures/fig_incomp2}
%!TEX root=../main.tex

\begin{figure}[h]
\centering
\scalebox{0.95}{
\begin{tikzpicture}[every node/.style={draw,rectangle, minimum width=0mm, minimum height=0mm, inner sep=2}]
\def\xstep{2.2}
\def\ystep{1.6}
\node[align=center] (t1) at (0*\xstep, 0*\ystep){
$t_1, \LockColorTwo{\lk_2}, \{ \LockColorOne{\lk_1} \}$,
$\sequence{e_2, e_4, e_{29}}$
};
\node[align=center] (t2) at (2*\xstep, 0*\ystep){
$t_2, \LockColorOne{\lk_1}, \{ \LockColorThree{\lk_3} \}$,
$\sequence{e_{23}}$
};
\node[align=center] (t31) at (0*\xstep, -0.7*\ystep){
$t_3, \LockColorOne{\lk_1}, \{ \LockColorTwo{\lk_2} \}$,
$\sequence{e_{16}, e_{19}}$
};
\node[align=center] (t32) at (2*\xstep, -0.7*\ystep){
$t_3, \LockColorThree{\lk_3}, \{ \LockColorTwo{\lk_2} \}$,
$\sequence{e_{13}}$
};
\draw[->, thick, -Latex] (t2) -- (t1);
\draw[->, thick, -Latex] ([xshift=6mm]t1.south) to (t32.west);
\draw[->, thick, -Latex, bend right=10] ([xshift=-3mm]t1.south) to ([xshift=-3mm]t31.north);% (t31.north);
\draw[->, thick, -Latex, bend right=10] (t31) to (t1);
%\node[opacity=0] at (0*\xstep, -1.5*\ystep){};
\end{tikzpicture}
}
\caption{
The graph $\lkevgraph{\tr_2}$ of the trace $\tr_2$ in \figref{syncp_example}.
\figlabel{lock_graph}
}
\end{figure}
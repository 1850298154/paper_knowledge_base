% 定义带缩进的 upon 块；开始处接 1 个参数；结束处不打印任何文字
\algdef{SE}[UPON]{Upon}{EndUpon}[1]{\textbf{upon}~#1}{} 
\algtext*{EndUpon} % 隐藏 EndUpon 的输出（仅保留结束缩进功能）

\newcommand{\bheading}[1]{{\vspace{4pt}\noindent{\textbf{#1}}}}
\newcommand{\iheading}[1]{{\vspace{2pt}\noindent{\textit{#1}}}}
\newcolumntype{?}{!{\vrule width 1pt}}

\newcommand{\draft}[1]{\textcolor{blue}{#1}}
%terminology and formatting
\newcounter{note}[section]
\renewcommand{\thenote}{\thesection.\arabic{note}}
\newcommand{\niu}[1]{\refstepcounter{note}{\bf\textcolor{red}{$\ll$JN~\thenote: {\sf #1}$\gg$}}}
\newcommand{\hz}[1]{\refstepcounter{note}{\bf\textcolor{purple}{$\ll$HZ~\thenote: {\sf #1}$\gg$}}}


\newcommand{\figurewidth}{\columnwidth}
\newcommand{\secref}[1]{\mbox{Sec.~\ref{#1}}\xspace}
\newcommand{\secrefs}[2]{\mbox{Sec.~\ref{#1}--\ref{#2}}\xspace}
\newcommand{\figref}[1]{\mbox{Fig.~\ref{#1}}}
% \newcommand{\algref}[1]{\mbox{Algorithm~\ref{#1}}}
\newcommand{\tabref}[1]{\mbox{Table~\ref{#1}}}
\newcommand{\appref}[1]{\mbox{Appendix~\ref{#1}}}
\newcommand{\ignore}[1]{}

% writing styles
\newcommand{\etc}{\textit{etc.}\xspace}
\newcommand{\ie}{\textit{i.e.}\xspace}
\newcommand{\eg}{\textit{e.g.}\xspace}
\newcommand{\cf}{\textit{cf.}\xspace}
\newcommand{\aka}{\textit{a.k.a.}\xspace}
\newcommand{\etal}{\textit{et al.}\xspace}
\newcommand{\ssecref}[1]{\mbox{\S\ref{#1}}\xspace}

\newcommand{\sysname}{\textsc{Hydra}\xspace}
\newcommand{\upperroman}[1]{\MakeUppercase{\romannumeral#1}}

% units
\newcommand{\gbytes}{\ensuremath{\mathrm{GB}}\xspace}
\newcommand{\mbytes}{\ensuremath{\mathrm{MB}}\xspace}
\newcommand{\kbytes}{\ensuremath{\mathrm{KB}}\xspace}
\newcommand{\bytes}{\ensuremath{\mathrm{B}}\xspace}
\newcommand{\hertz}{\ensuremath{\mathrm{Hz}}\xspace}
\newcommand{\ghertz}{\ensuremath{\mathrm{GHz}}\xspace}
\newcommand{\msecs}{\ensuremath{\mathrm{ms}}\xspace}
\newcommand{\usecs}{\ensuremath{\mathrm{\mu{}s}}\xspace}
\newcommand{\nsecs}{\ensuremath{\mathrm{ns}}\xspace}
\newcommand{\secs}{\ensuremath{\mathrm{s}}\xspace}
\newcommand{\gbits}{\ensuremath{\mathrm{Gb}}\xspace}

\newcounter{packednmbr}
\newenvironment{packedenumerate}{
\begin{list}{\thepackednmbr.}{\usecounter{packednmbr}
\setlength{\itemsep}{0pt}
\addtolength{\labelwidth}{4pt}
\setlength{\leftmargin}{12pt}
\setlength{\listparindent}{\parindent}
\setlength{\parsep}{3pt}
\setlength{\topsep}{3pt}}}{\end{list}}

\newenvironment{packeditemize}{
\begin{list}{$\bullet$}{
\setlength{\labelwidth}{0pt}
\setlength{\itemsep}{2pt}
\setlength{\leftmargin}{\labelwidth}
\addtolength{\leftmargin}{\labelsep}
\setlength{\parindent}{0pt}
\setlength{\listparindent}{\parindent}
\setlength{\parsep}{1pt}
\setlength{\topsep}{1pt}}}{\end{list}}

\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}
\newtheorem{proposition}{Proposition}
\newtheorem{example}{Example}
\newtheorem{remark}{Remark}
\newtheorem{definition}{Definition}
\newcommand{\e}[1]{{\mathbb E}\left[ #1 \right]}
%\newenvironment{solution}{\begin{proof}[Solution]}{\end{proof}}
%\newtheorem{proof}{Proof}
{
  \begin{algorithm}[tb!]
  \caption{PP: Prioritized Planning}
  \label{algo:pp}
  \textbf{Input}:~an OTIMAPP instance\\
  \textbf{Output}:~a solution $\{ \path{1}, \ldots, \path{N} \}$ or \FAILURE
  \begin{algorithmic}[1]
    \State $\tablefrom, \tableto \leftarrow \emptyset$
    \For{$i = 1\ldots~|A|$}
    \State $\path{i} \leftarrow
    \begin{aligned}[t]
      &\text{a path for agent}~i~\text{while avoiding the use of}
      \\
      &\cdot~g_j, \forall j \neq i, \text{except for}~s_i
      \\
      &\cdot~(u, v) \in E~\text{s.t.}~\exists \theta \in \tableto[u]~\text{and}~\theta~\text{starts from}~v
      \\
      &\hspace{0.3cm}\triangleright\text{avoiding cyclic deadlocks for}~\path{j}, j < i
    \end{aligned}$
    \label{algo:pp:planning}
    \IFSINGLE{\path{i} is not found}{\Return \FAILURE}
    \State update \tablefrom and \tableto with \path{i} using Algorithm~\ref{algo:detecting-deadlock}
    \label{algo:pp:register}
    \EndFor
    \State \Return $\{ \path{1}, \ldots, \path{N} \}$
  \end{algorithmic}
\end{algorithm}
}
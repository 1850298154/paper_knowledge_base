\documentclass[11pt,twoside]{book}
%This is a template for producing LIPIcs articles. 
%See lipics-v2021-authors-guidelines.pdf for further information.
%for A4 paper format use option "a4paper", for US-letter use option "letterpaper"
%for british hyphenation rules use option "UKenglish", for american hyphenation rules use option "USenglish"
%for section-numbered lemmas etc., use "numberwithinsect"
%for enabling cleveref support, use "cleveref"
%for enabling autoref support, use "autoref"
%for anonymousing the authors (e.g. for double-blind review), add "anonymous"
%for enabling thm-restate support, use "thm-restate"
%for enabling a two-column layout for the author/affilation part (only applicable for > 6 authors), use "authorcolumns"
%for producing a PDF according the PDF/A standard, add "pdfa"

%\pdfoutput=1 %uncomment to ensure pdflatex processing (mandatatory e.g. to submit to arXiv)
%\hideLIPIcs  %uncomment to remove references to LIPIcs series (logo, DOI, ...), e.g. when preparing a pre-final version to be uploaded to arXiv or another public repository

%\nolinenumbers

% Author macros %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\DeclareFixedFont{\titlefont}{T1}{ppl}{b}{it}{0.4in}
\DeclareFixedFont{\subtitlefont}{T1}{ppl}{b}{it}{0.25in}

\title{%
	\titlefont{Concerto Grosso} \brk 
	\subtitlefont{for} \brk
	\titlefont{Sessions} \\~\\
	\subtitlefont{Fair Termination of Sessions}
	}

\usepackage{stmaryrd}
\usepackage{etoolbox}
\usepackage{mathpartir}
\usepackage{mathtools}
\usepackage{macros/prooftree}
\usepackage{amsmath , amsfonts , amsthm , amssymb}
\usepackage{xspace} 
\usepackage{xcolor}

\usepackage{listings}
\lstset{basewidth={0.55em , 0.6em} , columns=fixed}

\lstset{mathescape=true,
		basicstyle=\linespread{0.9}\sf\small,keywordstyle=\bfseries,
		keywords={data,record,field,constructor,where,private,variable,coinductive},
		backgroundcolor=\color{lightgray},
		%framesep=10pt,
		framexleftmargin=10pt,framexrightmargin=10pt,
		framextopmargin=10pt,framexbottommargin=10pt,
		frame=tb}

\let\union\cup
%\usepackage{musixtex}
\usepackage{wrapfig}
\usepackage{tikz}

\usepackage{hyperref}
\usepackage{cleveref}
%\usepackage{libertinus}
\usepackage{anyfontsize}
\usepackage{natbib}
\bibliographystyle{plainnat}
%\setcitestyle{authoryear,open={((},close={))}}
\usepackage{wrapfig}
\usepackage{lettrine}
\usepackage{pdfpages}
\includepdfset{pages=-}

\input{macros/env}

\begin{document}

\input{macros/processes}
\input{macros/macros}

\input{macros/is-macros}
\input{macros/is-examples}
\input{macros/sessiontypes}
\input{macros/pi-calc}
\input{macros/macros-lib}
\input{macros/macros-agda}
\input{macros/macros-app}

\author{Luca Ciccone}

\input{first}
%\maketitle

\chapter*{\textit{Gratias Vobis Ago}}
\input{acks}
\newpage
\clearpage

\chapter*{Overture}

\begintreble
%
\emph{Sessions} are a fundamental notion in message-passing systems. A session is an abstract notion of 
communication between parties where each one owns an endpoint.
\emph{Session types} are types that are assigned to the endpoints and that are used to statically and dynamically 
enforce some desired properties of the communications, such as the absence of deadlocks.

Properties of concurrent systems are usually
divided in \emph{safety} and \emph{liveness} ones and depending on the class it belongs to, a property is defined
using different (dual) techniques. However, there exist some properties that require to mix both techniques
and the challenges in defining them
are exacerbated in \emph{proof assistants} (\eg Agda, Coq, $\dots$), 
that is, tools that allow users to formally characterize and prove theorems. In particular, we mechanize 
the meta-theory of \textit{inference systems} in Agda.

Among the interesting properties that can be studied in the session-based context, we study
\emph{fair termination} which is the property of those sessions that can always eventually reach
\emph{successful} termination under a \emph{fairness} assumption. Fair termination 
implies many desirable and well known properties, such as lock freedom. Moreover, a lock free session
does not imply that other sessions are lock free as well. On the other hand, if we consider a session and 
we assume that all the other ones are fairly terminating, we can conclude that the one under analysis is
fairly terminating as well.

%\closesheet

\addcontentsline{toc}{chapter}{Contents}
\tableofcontents

\chapter*{Praeludium}
\addcontentsline{toc}{chapter}{Praeludium}
\input{prelude}

\part[Key Notions]{Key Notions\\\textit{(Vivace)}}

%%%%%%%%%%%%%%%%%%%%
%%% INTRODUCTORY %%%
%%%%%%%%%%%%%%%%%%%%

\chapter{Introductory Notions}
\input{keynotions/intro}

	\section{Safety \& Liveness}
	\label{sec:sft_lvn}
	\input{keynotions/sft-lvn}
	\section{(Generalized) Inference Systems}
	\label{sec:gis}
	\input{keynotions/gis}
	\section{Session Types}
	\label{sec:st}
	\input{keynotions/sessiontypes}
	\section{Related Work}
	\label{sec:related}
	\input{keynotions/related}

\chapter{Fair Termination}
\label{ch:ft}
\input{fairtermination/intro}

	\section{Introduction}
	\label{sec:ft_intro}
		\input{fairtermination/secintro}
		\subsection{What}
		\input{fairtermination/what}
		\subsection{Why}
		\input{fairtermination/why}

	\section{Fair Termination - Formally}
	\label{sec:ft_formally}
	\input{fairtermination/formally}

	\section{Fair Termination and Session Types}
	\label{sec:ft_st}
	\input{fairtermination/sessiontypes}
	
\chapter{Fair Subtyping}
\label{ch:fs}
\input{fairsub/chintro}

	\section{Original Subtyping}
	\label{sec:original_sub}
	\input{fairsub/original}
		\subsection{Unfair Subtyping}
		\label{ssec:unfair_sub}
		\input{fairsub/unfair}		
	\section{Fair Subtyping}
	\label{sec:fair_sub}
	\input{fairsub/fair}
		\subsection{Correctness - Soundness}
		\label{ssec:fsub_sound}
		\input{fairsub/fsub-sound}
		\subsection{Correctness - Completeness}
		\label{ssec:fsub_complete}
		\input{fairsub/fsub-complete}
		\subsection{Generalized Inference System}
		\label{ssec:fsub_gis}
		\input{fairsub/fsub-gis}

\part[Enforcing Fair Termination]{Enforcing\\Fair Termination\\\textit{(Largo)}}
\label{pt:type_systems}

%%%%%%%%%%%%%%%%%%%%
%%% TYPE SYSTEMS %%%
%%%%%%%%%%%%%%%%%%%%

\chapter{Fair Termination Of Binary Sessions}
\label{ch:ft_bin}
\input{ts-bin/chintro}

	\section{Calculus}
	\label{sec:ts_bin_proc}
	\input{ts-bin/calculus}
	\section{Type System}
	\label{sec:ts_bin_ts}
	\input{ts-bin/ts}
	\section{Proofs}
	\label{sec:ts_bin_corr}
	\input{ts-bin/soundness}

\chapter{Fair Termination Of Multiparty Sessions}
\label{ch:ft_multi}
\input{ts-multi/chintro}
		
		\section{Calculus}
		\label{sec:ts_multi_proc}
		\input{ts-multi/calculus}
		\section{Type System}
		\label{sec:ts_multi_ts}
		\input{ts-multi/ts}
		\section{Correctness}
		\label{sec:ts_multi_corr}
		\input{ts-multi/soundness} 
		\section{Related Work}
		\label{sec:ts_multi_related}
		\input{ts-multi/related}
		
%%%%%%%%%%%%%%%%%%%%%%%%%
%%% INFINITARY PROOFS %%%
%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Linear Logic Based Approach}
\label{ch:ft_ll}
\input{ts-ll/chintro}
		
		\section{Types and Formulas}
		\label{sec:ts_ll_types}
		\input{ts-ll/types}
		\section{Calculus}
		\label{sec:ts_ll_proc}
		\input{ts-ll/calculus}
		\section{Type System}
		\label{sec:ts_ll_ts}
		\input{ts-ll/ts}
		\section{Correctness}
		\label{sec:ts_ll_corr}
		\input{ts-ll/soundness}
		\section{Comparing the Type Systems}
		\label{sec:comparison}
		\input{ts-ll/comparison}
		\section{Related Work}
		\label{sec:ts_ll_related}
		\input{ts-ll/related}
		
\part[Agda Mechanizations]{Agda Mechanizations\\ \textit{(Allegro Moderato)}}
\label{pt:agda}

%%%%%%%%%%%%%%%%%%%%%%
%%% MECHANIZATIONS %%%
%%%%%%%%%%%%%%%%%%%%%%

\chapter[A Library For GIS]{A Library For (Generalized) Inference Systems}
\label{ch:gis_lib}
\input{gis-lib/chintro}

	\section{Meta Theory}
	\label{sec:agda_gis_meta}
	\input{gis-lib/meta}
	\section{Divergence In The Lambda-Calculus}
	\label{sec:agda_gis_lambda}
	\input{gis-lib/lambda}
	\section{Indexed (Endo) Containers}
	\label{sec:agda_gis_container}
	\input{gis-lib/container}

%%%%%%%%%%%%%%%%%%
%%% Properties %%%
%%%%%%%%%%%%%%%%%%

\chapter{Properties Of Session Types}
\label{ch:agda_prop}
\input{agda-prop/chintro}

	\section{Fair Termination}
	\label{sec:agda_fairt}
	\input{agda-prop/fair-termination}
	\section{Session Types}
	\label{sec:agda_st}
	\input{agda-prop/st}
	\section{Fair Termination}
	\label{sec:agda_ft}
	\input{agda-prop/ft}
	\section{Fair Compliance}
	\label{sec:agda_fc}
	\input{agda-prop/fc}
	\section{Fair Subtyping}
	\label{sec:agda_fs}
	\input{agda-prop/fs}
	\section{Correctness of Fair Compliance}
	\label{sec:agda_fc_corr}
	\input{agda-prop/fc-corr}
	\section{Related Work}
	\label{sec:agda_related}
	\input{agda-prop/related}

\chapter*{Postludium}
\addcontentsline{toc}{chapter}{Postludium}
\input{finale}

%%% Bibliography %%%

\bibliography{main}

%%% Appendix %%%

\clearpage
\appendix
\input{appendix}

\clearpage
\newpage
%\includepdf[pagecommand={\thispagestyle{headings}}]{concertino.pdf}
\includepdf{concertino.pdf}

\end{document}



%%%%%%%%%%%%%
%%% Mixed %%%
%%%%%%%%%%%%%

\newcommand{\eqdef}{\stackrel{\text{\tiny\sf def}}=}

\newcommand{\set}[1]{\{#1\}}

\newcommand{\brk}{~\\}

\setlength{\intextsep}{0.5pt}%
%\setlength{\columnsep}{5pt}%

%\def\mw{\wrapfigure[4]{l}{0pt}\ifdim\pagetotal=0pt \else\vspace{-\intextsep}\fi}
%\let\endmw\endwrapfigure
\newenvironment{musickey}{%
  \setlength\intextsep{0.5pt}
  \wrapfigure[4]{l}{0pt}
}{\endwrapfigure}

\newcommand{\beginnote}[1]{
		\begin{music}
			#1
		\end{music}}
	
%\newcommand{\begintreble}{\beginnote\trebleclef{-15pt}{0pt}}
\newcommand{\begintreble}{
	\lettrine{\makebox[1cm]{\includegraphics[height=1.7cm]{clefs/treble4}}}{}
	}
	%\begin{musickey}
		%\beginnote\trebleclef
	%\end{musickey}}

\newcommand{\beginalto}{
	\lettrine{\makebox[1cm]{\includegraphics[height=1cm]{clefs/alto}}}{}
	}
	%\begin{musickey}
		%\beginnote\altoclef
	%\end{musickey}}
	
\newcommand{\beginbass}{
	\lettrine{\makebox[1cm]{\includegraphics[height=0.8cm]{clefs/bass}}}{}
	}
	%\begin{musickey}
		%\beginnote\bassclef
	%\end{musickey}}

%%%%%%%%%%%%%%%%
%%% COMMENTS %%%
%%%%%%%%%%%%%%%%

\newif\ifcomments
\commentstrue
%\commentsfalse

\newcommand{\marginnote}[2]{%
  \ifcomments%
  $^{\color{magenta}\mathclap\star}$\marginpar{\sf\textbf{#1}: #2}%
  \fi%
}

\newcommand{\LC}[1]{\marginnote{\color{red}{LC}}{\color{red}#1}}
\newcommand{\LP}[1]{\marginnote{LP}{\color{blue}#1}}

%%%%%%%%%%%%%
%%% LATIN %%%
%%%%%%%%%%%%%

\newcommand{\eg}{\emph{e.g.}\xspace}
\newcommand{\ie}{\emph{i.e.}\xspace}


%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Generic Variables %%%
%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\x}{x}
\newcommand{\y}{y}
\newcommand{\z}{z}

%%%%%%%%%%%
%%% GIS %%%
%%%%%%%%%%%

\newcommand{\GIS}{GIS\xspace}
\newcommand{\GISs}{GISs\xspace}
\newcommand{\Pair}[2]{\langle#1,#2\rangle}
\newcommand{\fun}[2]{#1 \to #2}
%\renewcommand{\ple}[1]{\langle#1\rangle}
\newcommand{\annotation}[1]{\mathsf{#1}}
\newcommand{\Ind}{\annotation{ind}}
\newcommand{\CoInd}{\annotation{coind}}


%%%%%%%%%%%%
%%% PROP %%%
%%%%%%%%%%%%

\newcommand{\terminates}[2][]{#2{\Downarrow_{#1}}}
\newcommand{\compliance}[3][]{#2 \dashv_{#1} #3}
\newcommand{\subt}[1][]{\leqslant\ifblank{#1}{}{_{#1}}}
%\newcommand{\subt}[3][]{#2 \leqslant_{#1} #3}
%\newcommand{\usubt}{\leqslant}
\newcommand{\usubt}{\subt[*]}
\newcommand{\ssubt}{\sqsubseteq}
\newcommand{\srel}{\mathcal{S}}

\newcommand{\isubt}{\subt[\Ind]}
\newcommand{\csubt}{\subt[\CoInd]}

%%%%%%%%%%%%%%%%%%%%%%%%
%%% Fair Termination %%%
%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\States}{\mathcal{S}}
\newcommand{\StateSet}{\mathcal{C}}
\newcommand{\FinalStates}{\mathcal{F}}
\newcommand{\run}{\rho}
\newcommand{\FairA}{\Phi}
\newcommand{\TF}{\mathbb{T}}

%%%%%%%%%%%%%%
%%% PROOFS %%%
%%%%%%%%%%%%%%

\newcommand{\rulename}[1]{\textsc{\small[#1]}}
%\newcommand{\defrule}[1]{\hypertarget{rule:#1}{\rulename{#1}}}
%\newcommand{\defrule}[2][]{\hypertarget{rule:\ifblank{#1}{#2}{#1}}{\rulename{#2}}}
\newcommand{\defrule}[2][]{\hypertarget{rule:\ifblank{#1}{#2}{#1}}{\ifblank{#2}{}{\rulename{#2}}}}
%\newcommand{\refrule}[1]{\hyperlink{rule:#1}{\rulename{#1}}}
\newcommand{\refrule}[2][]{\hyperlink{rule:\ifblank{#1}{#2}{#1}}{\rulename{#2}}}
\newcommand{\proofcase}[1]{\textit{#1}.}
\newcommand{\proofrule}[1]{\proofcase{Case \refrule{#1}}}

\newcommand{\hl}[1]{{\color{lucared}#1}}
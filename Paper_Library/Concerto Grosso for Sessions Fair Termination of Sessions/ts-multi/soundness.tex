\beginalto
%
In this section we discuss the proof of \Cref{thm:ts_multi_sound}.
The proof technique follows that of \Cref{thm:ts_bin_sound}.
Such proof is essentially composed of a standard subject
reduction result showing that typing is preserved by reductions and a proof that
every well-typed process other than $\pdone$ may always reduce in such a way
that a suitably defined \emph{well-founded measure} strictly decreases. The
measure is a lexicographically ordered pair of natural numbers with the
following meaning: the first component measures the number of sessions that must
be created and the total weight of casts that must be performed in order for the
process to terminate (this information is essentially the rank we associate with
typing judgments); the second component measures the overall effort required to
terminate every session that has already been created (these sessions are
identified by the fact that their restriction occurs unguarded in the process).
We account for this effort by measuring the shortest reduction that terminates a
coherent session map (\Cref{def:coherence}). The reason why we need two
quantities in the measure is that in general every application of fair subtyping
may \emph{increase} the length of the shortest reduction that terminates a
coherent session map. So, when casts are performed the second component of the
measure may increase, but the first component reduces.
%
As a final remark, it should be noted that the overall measure associated with a
well-typed process \emph{may also increase}, for example if new sessions are
created (\Cref{ex:pms_multi}). However, one particular reduction that decreases the
measure is always guaranteed to exist.
%
For the sake of clarity, in the following we often write $M \ft$ instead of $\coherent M$.

%%%%%%%%%%%%%%%%%%%%%%%%%
%%% SUBJECT REDUCTION %%%
%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Subject Reduction}
\input{ts-multi/proof-sr}

%%%%%%%%%%%%%%%
%%% MEASURE %%%
%%%%%%%%%%%%%%%

\subsection{Measure}
\input{ts-multi/proof-measure}

%%%%%%%%%%%%%%%%%%%%
%%% NORMAL FORMS %%%
%%%%%%%%%%%%%%%%%%%%

\subsection{Normal Forms}
\input{ts-multi/proof-nf}

%%%%%%%%%%%%%%%%%
%%% SOUNDNESS %%%
%%%%%%%%%%%%%%%%%

\subsection{Soundness}
\input{ts-multi/proof-soundness}
We first present the topological graphs and the subclasses we consider on which
we study the complexity of our problems. Then, we give definitions of plans and
executions, and formally define problems we consider.

In most applications of path planning, the space is discretized
in order to generate a graph of movements on which algorithms are executed.
For instance, \emph{regular grids} which decompose the space
in square, triangular or hexagonal cells, \emph{irregular grids} with techniques
such as quadtree \cite{Finkel:1974, Knoll:06} or \emph{Vorono\"i diagram}
comprehensively discussed in the survey \cite{Aurenhammer:1991}.

Our work is independent of the particular method used to obtain the discretization.
We only work under the hypothesis that a feasible plan on the graph generated by 
the discretization is also feasible in the continuous space.
%The multi-agent path planning (MAPP) is a well studied problem. Typically, MAPP
% starts by discretizing the area into a graph on which the planning is computed.
% Many discretizing methods as being developed throughout the study of path
% planning and MAPP. For instance, \emph{regular grids} which decompose the space
% in square, triangular or hexagonal cells, \emph{irregular grids} with techniques
% like quadtree \cite{Finkel:1974, Knoll:06} or \emph{Vorono\"i diagram}
% comprehensively discussed in the survey \cite{Aurenhammer:1991}.

% Even though those methods have their advantages and disadvantages, we do not
% consider a particular method. We work under the hypothesis that a feasible plan
% on the graph generated by the discretization is also feasible in the continuous
% area.

\subsection{Topological graph}
\label{preli:graph}

\iffull
\input{picture_graph.tex}
\else
\input{picture_graph_small.tex}
\fi
Compared to the graphs used in MAPP, we also consider \emph{communication edges}
which specify whether agents at two different locations can communicate. We call
graphs with this additional information \emph{topological graphs}. The formal
definition is the following.

\begin{definition}[Topological graph] A topological graph is a tuple $G=\langle
    \setnodes, \moves, \coms \rangle$, with $V$ a finite set of nodes containing
    a distinguished element $\basenode$, $\moves\subseteq V \times V$ a set of
    movement edges and $\coms\subseteq V\times V$ a set of undirected
    communication edges.
    \label{def:topo:dir}
\end{definition}

The node $\basenode$ symbolizes the supervision station from which the agents
start the mission. A topological graph is undirected if~$\langle\setnodes,
\moves\rangle$ is an undirected graph.

We will now consider three subclasses of interest.

In most situations, if an agent can move to a location in one step, it can also
communicate with an agent at that location. This class has been discussed in
\cite{dblp:conf/aaai/tateobrab18}. We call topological graphs satisfying this
requirement \emph{neighbor-communicable}. An example is given in
Figure~\ref{fig:topo:nc}.

\begin{definition}[Neighbor-Communicable topological graph] A
  neighbor-communicable topological graph is a topological graph such that $v\moves
  v'$ implies $v\coms v'$.
  \label{def:topo:nc}
\end{definition}

Another class of graphs is that of \emph{sight-moveable} and is the main one for
which we give efficient algorithms. First, this class requires the movement
edges to be undirected and reflexive. Second, whenever an agent can communicate
with another node, then it can also move to that node while maintaining the communication.
This intuitively means that we disallow communication through obstacles.
The formal
definition follows, and an example is depicted in Figure~\ref{fig:topo:sm}.
% Another class of graphs is that of \emph{sight-moveable} and is the main one for
% which we give efficient algorithms. First, this class requires the movement
% edges to be undirected and reflexive. Second, we consider the case where agents
% are not able to communicate with other agents through obstacles but only if they
% are in line of sight. It is indeed natural to consider that, for example,
% if a drone is at the base it can go to any node which communicates with the base
% in a straight line and not losing the communication on its way. The formal
% definition follows, and an example is depicted in Figure~\ref{fig:topo:sm}.

\begin{definition}[Sight-Moveable topological graph] A sight-moveable topologic
  graph is an undirected neighbor-communicable topological graph in
  which for all $v \in V$, $v\moves v$ and whenever $v \coms v'$, there exists a
  sequence $\rho=\langle \rho_1, \dots, \rho_n\rangle$ of nodes such that
  $v=\rho_1$, $v'=\rho_n$, $v \coms \rho_i$ and $\rho_i \moves \rho_{i+1}$ for
  all $i\in\{1,n\}$.
  \label{def:topo:sm}
\end{definition}

Last, we define the \emph{complete-communication} topological graphs which are
simply sight-moveable topological graphs with a complete communication topology.
This subclass can model the use of a hovering connected agent which allows a
constant communication for all the agents in the area. An example of such a
graph is depicted in Figure~\ref{fig:topo:compl}, and the formal definition is
the following.

\begin{definition}[Complete-Communication topological graph] A
  complete-communication topological graph is a sight-moveable topological
  graph such that $\coms=V\times V$. \label{def:topo:compl}
\end{definition}
Observe that complete-communication graphs are reflexive, undirected, connected
graphs with $\coms=V\times V$.

\subsection{Execution}
\label{preli:exec}

A plan or \emph{execution}, in MAPP, is a list of \emph{configurations} which
describes the placement of the agents during the mission. The formal definition
of a configuration is the following.

\begin{definition}[Configuration] A configuration $c$ of $n$ agents in a
  topological graph $G$ is an element of $V^n$ denoted $c=\langle c_1, \dots,
  c_n\rangle$ in which $c_i$ is the location of the agent $i$ such
  that the graph $\langle V_a, \coms \cap V_a \times V_a\rangle$ is connected
  with $V_a = \{\basenode, c_1, \dots, c_n\}$. We extend our notation 
  and denote $c \moves c'$ when $c_i \moves c'_i$ for all $0<i\leq n$.
  \label{def:config}
\end{definition}

Furthermore, in the literature, MAPP asks to associate an agent to a specific
goal. However, given that we are interested in covering an area with a fleet of
agents, the anonymity is useful to get more efficient plans.

\textbf{Anonymity.} In the rest of this paper, we consider the agents to be
\emph{anonymous}. In other words, a configuration $c$ is equivalent to a
configuration $c'$ iff $c$ is a reordering of $c'$.

%\textbf{\textcolor{red}{TODO: Definition of the anonimity enough ??}
%Ocan: I think this is sufficient}

Moreover, an important notion in MAPP is the computation of collision-free
plans. In the drone case, in which we are particularly interested, one can place
drones at different heights to avoid collisions. Additionally, most drones are,
nowadays, equipped with local collision avoidance systems.


\textbf{Collisions.} We do not deal with meet- or head-on-collisions
of agents, \textit{i.e.} we allow two agents to be located
in a same node,
and to move in opposite directions of an edge within a step.

% \begin{definition}[Execution] An execution $e$ of length $\ell$ with $n$ agents
%     in a graph $G$ is a sequence of configuration $\langle c^1, \dots,
%     c^\ell\rangle$ such that for $c^i \moves c^{i+1}$ for all $0<i<\ell$.
% \end{definition}

% \begin{definition}[Covering Execution] A covering execution $e=\langle c^1,
%     \dots c^\ell\rangle$ of length $\ell$ with $n$ agents in a graph $G$ is an
%     execution such that $c^1=c^\ell=\langle B, \dots, B\rangle$ and for all
%     $v\in V$, there exists $i\in \{1,\ldots,\ell\}$ with $v\in c^i$.
% \end{definition}
An \emph{execution} $e$ of length $\ell$ with $n$ agents
    in a graph $G$ is a sequence of configuration $\langle c^1, \dots,
    c^\ell\rangle$ such that for $c^i \moves c^{i+1}$ for all $0<i<\ell$.
%\end{definition}
%\begin{definition}[Covering Execution] 
A \emph{covering execution} $e=\langle c^1,
    \dots c^\ell\rangle$ of length $\ell$ with $n$ agents in a graph $G$ is an
    execution such that $c^1=c^\ell=\langle B, \dots, B\rangle$ and for all
    $v\in V$, there exists $i\in \{1,\ldots,\ell\}$ with $v\in c^i$.
%\end{definition}

\subsection{Decision problems}
\label{preli:prob}

We define the MAPP problems, the \emph{Reachability} problem along with its
bounded version, \emph{bReachability}, for the makespan optimization of the
plan. In addition, we define the \emph{Coverage} problem and the bounded
coverage, \emph{bCoverage}.

\begin{definition}[Reachability]
  Given a topological graph $G$ and a configuration~$c$,
  decide if there is an execution $\langle c^1, \dots,
    c^\ell\rangle$ in $G$ such that $c^1 = \langle B, \dots, B\rangle$ and
    $c^\ell = c$.
    % \end{itemize}
  \label{def:pb:reach}
\end{definition}
% \begin{definition}[Reachability]~
%   \begin{itemize}
%   \item[] Input: a topological graph $G$ and $c$ a configuration;
%   \item[] Output: does there exist an execution $\langle c^1, \dots,
%     c^\ell\rangle$ in $G$ such that $c^1 = \langle B, \dots, B\rangle$ and
%     $c^\ell = c$?
%   \end{itemize}
%   \label{def:pb:reach}
% \end{definition}

\begin{definition}[Coverage]
  Given a topological graph $G$ and $n\in \mathds{N}$ written in unary,
  decide if there exists a covering execution with $n$ agents.
  \label{def:pb:cover}
\end{definition}
% \begin{definition}[Coverage]~
%   \begin{itemize}
%   \item[] Input: a topological graph $G$ and $n\in \mathds{N}$ written in unary;
%   \item[] Output: does there exists a covering execution with $n$ agents?
%   \end{itemize}
%   \label{def:pb:cover}
% \end{definition}

\begin{definition}[bReachability]
  Given a topological graph $G$, configuration~$c$ and
    $\ell\in \mathds{N}$ written in unary,
  decide if there is an execution $\langle c^1, \dots,
    c^{\ell'}\rangle$ in $G$ s.t. $\ell' \leq \ell$ and $c^{\ell'} = c$.
  \label{def:pb:breach}
\end{definition}
% \begin{definition}[bReachability]~

%   \begin{itemize}
%   \item[] Input: a topological graph $G$, $c$ a configuration and
%     $\ell\in \mathds{N}$ written in unary;
%   \item[] Output: does there exists an execution $\langle c^1, \dots,
%     c^{\ell'}\rangle$ in $G$ such that $\ell' \leq \ell$ and $c^{\ell'} = c$?
%   \end{itemize}
%   \label{def:pb:breach}
% \end{definition}

\begin{definition}[bCoverage]
  Given a topological graph $G$, $n,\ell\in\mathds{N}$ written in unary,
  decide if there exists a covering execution of length $\ell'$ such
    $\ell'\leq \ell$.
  \label{def:pb:bcover}
\end{definition}
% \begin{definition}[bCoverage]~

%   \begin{itemize}
%   \item[] Input: a topological graph $G$, $n,\ell\in\mathds{N}$ written in unary;
%   \item[] Output: does there exists a covering execution of length $\ell'$ such
%     $\ell'\leq \ell$?
%   \end{itemize}
%   \label{def:pb:bcover}
% \end{definition}

%For the rest of the paper,
We study the restrictions of the above problems to
classes of topological graphs. We denote by \pb{B}{c}, with $B$ one of the four
above problems restricted to the class of topological graph $c$ ($c$ can either
be $dir$ for directed, $nc$ for neighbor-communicable, $sm$ for sight-moveable
or $cc$ for complete-communication topological graphs).

\subsection{Known results}
\label{preli:known}

The complexity of the decision problem associated to the minimization of the
makespan is known to be NP-hard since \cite{Ratner:86}. Throughout the study of
MAPP, NP-hardness was shown to hold on planar graphs \cite{Yu:2015}
and, later, on 2D grid graphs \cite{Banfi:2017}. Variants
of MAPP have been studied such as the package-exchange
robot-routing problem \cite{Ma:2016} where the robots are anonymous but not
the package they exchange, is shown to be NP-hard. A class
of grid graphs was shown to be solvable in polynomial time
\cite{Wang:2009}.

The connected version of MAPP was introduced in \cite{Hollinger:2012}, in
which a topological graph discretizes the space and it is proved that the
existence of a plan for the reachability of a configuration of agents in a
bounded amount of steps is NP-hard:

\begin{theorem} \label{th:dir:lb:breach}
  \pbBReach{} restricted to undirected topological graphs is NP-hard
  \cite{Hollinger:2012}.
\end{theorem}

In \cite{dblp:conf/aaai/tateobrab18}, it is shown that deciding the existence of
a feasible plan is PSPACE-complete:

\begin{theorem} \label{th:dir:lb:reach}
    \pbReach{} restricted to undirected topological graphs is PSPACE-complete
    \cite{dblp:conf/aaai/tateobrab18}.
\end{theorem}

Authors prove this result for graphs with self-loops and a
base~\cite{dblp:conf/aaai/tateobrab18} as in our setting (see Discussion
following Theorem 1). The only difference with our setting is that the agents
start at a specific configuration in~\cite{dblp:conf/aaai/tateobrab18}.
Nevertheless, it can be shown easily that our problem is equivalent by
duplicating the base and adding edges so that the agents reach the initial
configuration at the second step.


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End:

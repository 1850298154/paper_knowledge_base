%**********************************************************************
%***    1. DOCUMENT CLASS
%**********************************************************************
\RequirePackage[l2tabu,orthodox]{nag}		% for deprecated commands
\documentclass[reqno]{amsart}		% for amsart
\usepackage[margin=1.5in,bottom=1.25in]{geometry}		% for tighter margins (80 CPL)



%**********************************************************************
%***    2.	CORE PACKAGES
%**********************************************************************

%----------------------------------------------------------------------
%% Basic math tools
%----------------------------------------------------------------------
\usepackage{amsmath}		% for AMS macros
\usepackage{amssymb}		% for AMS symbols
\usepackage{amsfonts}		% for AMS fonts
\usepackage{amsthm}		% for theorems
\usepackage[foot]{amsaddr}		% for author footnotes

\usepackage{mathtools}		% for advanced math

\mathtoolsset{%
%above-intertext-sep = -1ex
%below-intertext-sep = -2ex
%showonlyrefs,	% to show only referenced equations
}


%----------------------------------------------------------------------
%% Encoding (beware of conflicts)
%----------------------------------------------------------------------
\usepackage[utf8]{inputenc}		% for source encoding
\usepackage[T1]{fontenc}		% for font encoding



%**********************************************************************
%***    3. FONTS
%**********************************************************************

%----------------------------------------------------------------------
%% Libertine
%----------------------------------------------------------------------
\usepackage[proportional,tabular,lining,sf,mono=false]{libertine}
%\usepackage[libertine,libaltvw,cmintegrals,varbb]{newtxmath}

%----------------------------------------------------------------------
%% Blackboard bold
%----------------------------------------------------------------------
\usepackage{dsfont}		% for blackboard bold font
%\let\mathbb=\mathds

%----------------------------------------------------------------------
%% Sans serif font
%----------------------------------------------------------------------
%\usepackage{sourcesanspro}

%----------------------------------------------------------------------
%% Typewriter font
%----------------------------------------------------------------------
%\usepackage[ttdefault,scale=1.07]{AnonymousPro}
\renewcommand*\ttdefault{txtt}
%\renewcommand{\ttdefault}{cmtt}
%\usepackage[scaled]{inconsolata}

%----------------------------------------------------------------------
%% Times
%----------------------------------------------------------------------
%\usepackage[varg]{txfonts}
%\let\mathbb=\varmathbb


%----------------------------------------------------------------------
%% Math alphabets
%----------------------------------------------------------------------
\usepackage[%		% for math font selection
cal=cm,
%scr=euler,
%frak=euler
]
{mathalfa}



%**********************************************************************
%***    4. ANCILLARY PACKAGES
%**********************************************************************

%----------------------------------------------------------------------
%% Acronyms
%----------------------------------------------------------------------
\usepackage{acronym}		% for acronyms
\renewcommand*{\aclabelfont}[1]{\acsfont{#1}}		% for acronym label font
\newcommand{\acli}[1]{\textit{\acl{#1}}}		% for italicized acro
\newcommand{\aclip}[1]{\textit{\aclp{#1}}}		% for italicized acro (plural)
\newcommand{\acdef}[1]{\textit{\acl{#1}} \textup{(\acs{#1})}\acused{#1}}		% for acro def
\newcommand{\acdefp}[1]{\textit{\aclp{#1}} \textup{(\acsp{#1})}\acused{#1}}	% for acro def (plural)


%----------------------------------------------------------------------
%% Captions
%----------------------------------------------------------------------
\usepackage[labelfont={bf,small},labelsep=colon,font=small]{caption}	% for caption control
\captionsetup[algorithm]{labelfont=bf,labelsep=colon}		% for algorithm captions
%\captionsetup[subfigure]{labelfont={bf,scriptsize},justification=centering}		% for subfig captions
%\captionsetup[table]{labelfont=normalfont,labelsep=colon}


%----------------------------------------------------------------------
%% Colors
%----------------------------------------------------------------------
\usepackage[dvipsnames,svgnames]{xcolor}		% for color
\colorlet{MyRed}{Crimson!90!Black}
\colorlet{MyBlue}{MediumBlue!90!Black}
\colorlet{MyGreen}{DarkGreen!80!Black}


%----------------------------------------------------------------------
%% Document layout
%----------------------------------------------------------------------
\newcommand{\afterhead}{.}		
%\newcommand{\putperiod}[1]{#1.}
%\usepackage{titlesec}
%\titleformat{\subsection}[runin]{\bfseries}{\thesubsection.}{1ex}{}[\afterhead]
%\titleformat{\section}[runin]{\bfseries}{\thesection.}{1ex}{\afterhead}
%\titlespacing{\subsection}{0pt}{\medskipamount}{1em}
\newcommand{\para}[1]{\medskip\paragraph{\textbf{#1\afterhead}}}


%----------------------------------------------------------------------
%% Extra symbols
%----------------------------------------------------------------------
%\usepackage{stmaryrd}		% for extra symbols
\usepackage{pifont}		
\newcommand{\cmark}{\text{\ding{51}}}		
\newcommand{\xmark}{\text{\ding{55}}}		
%\usepackage{wasysym}		% for extra symbols


%----------------------------------------------------------------------
%% Floats and graphics
%----------------------------------------------------------------------
%\setlength{\textfloatsep}{0pt}
\usepackage{subcaption}		% for subfigures
\usepackage{tikz}		% for figures
\usetikzlibrary{calc,patterns,positioning}

\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usepackage{forest}


%----------------------------------------------------------------------
%% Lists and tables
%----------------------------------------------------------------------
%\usepackage{array}		% for flexible tables
\usepackage{booktabs}		% for better tables
\usepackage[inline,shortlabels]{enumitem}		% for list control
\setenumerate{itemsep=\smallskipamount,topsep=\medskipamount}
\setitemize{itemsep=\smallskipamount,topsep=\medskipamount}

\usepackage{multirow}

\usepackage{floatrow}
% Table float box with bottom caption, box width adjusted to content
\newfloatcommand{capbtabbox}{table}[][\FBwidth]

%----------------------------------------------------------------------
%% Microtypography
%----------------------------------------------------------------------
\usepackage[kerning=true]{microtype}		% for microtypography


%----------------------------------------------------------------------
%% Various
%----------------------------------------------------------------------
%\usepackage{latexsym}		% for symbols
\usepackage{xspace}		% for flexible spaces



%**********************************************************************
%***    5. REFERENCING
%**********************************************************************

%----------------------------------------------------------------------
%% Bibliographic citations
%----------------------------------------------------------------------
\usepackage[numbers,sort&compress]{natbib}		% for citations
\def\bibfont{\small}
\def\bibsep{\smallskipamount}
\def\bibhang{24pt}
%\def\BIBand{and}
%\def\newblock{\ }
\bibpunct[, ]{[}{]}{,}{n}{,}{,}


%----------------------------------------------------------------------
%% Hyperlinks
%----------------------------------------------------------------------
\usepackage{hyperref}
\hypersetup{
colorlinks=true,
linktocpage=true,
%pdfstartpage=1,
pdfstartview=FitH,
breaklinks=true,
pdfpagemode=UseNone,
pageanchor=true,
pdfpagemode=UseOutlines,
plainpages=false,
bookmarksnumbered,
bookmarksopen=false,
bookmarksopenlevel=1,
hypertexnames=true,
pdfhighlight=/O,
%hyperfootnotes=true,
%nesting=true,
%frenchlinks,
urlcolor=MyBlue,linkcolor=MyBlue,citecolor=MyBlue,	% for on-screen
%urlcolor=black, linkcolor=black, citecolor=black, %pagecolor=black,	% for printing
%pagecolor=RoyalBlue,
pdftitle={},
pdfauthor={},
pdfsubject={},
pdfkeywords={},
pdfcreator={pdfLaTeX},
pdfproducer={LaTeX with hyperref}
}


%----------------------------------------------------------------------
%% Algorithms
%----------------------------------------------------------------------
%\usepackage{algorithm}		% for algorithm environments
%\usepackage{algpseudocode}		% for algorithm macros
%\renewcommand{\algorithmiccomment}[1]{\hfill\textsf{\#} #1}		% for algorithm comments
\usepackage[linesnumbered,ruled,vlined]{algorithm2e}
\newcommand{\mycommfont}[1]{\footnotesize\textcolor{gray}{#1}}
\SetCommentSty{mycommfont} % Edit the font + style of comments in algorithm
%\SetAlgoSkip{bigskip} % adjust space before algorithm


%----------------------------------------------------------------------
%% Cleverefs (must go after hyperref)
%----------------------------------------------------------------------
%\numberwithin{equation}{section}		% for cleveref (when using cleveref and hyperref)
\usepackage[sort&compress,capitalize,nameinlink]{cleveref}		% for cleveref formatting
\crefname{algorithm}{Algorithm}{Algorithms}
\crefname{equation}{Eq.}{Eqs.}
%\crefname{example}{Ex.}{Exs.}
\newcommand{\crefrangeconjunction}{\textendash}		% for cleveref conjunctions
%\crefrangeformat{equation}{\upshape(#3#1#4)\textendash(#5#2#6)}
%\creflabelformat{part}{(#2#1#3)}

% Attempt to make hyperref and algorithmic work together better:
%\newcommand{\theHalgorithm}{\arabic{algorithm}}


%----------------------------------------------------------------------
%% Only referenced equations
%----------------------------------------------------------------------
%\usepackage{autonum}		% for citing referenced only / must go last


%**********************************************************************
%***    6. ENVIRONMENTS
%**********************************************************************

%----------------------------------------------------------------------
%% Theorem tools
%----------------------------------------------------------------------
\usepackage{thmtools}		% for theorem tools
\usepackage{thm-restate}		% for restating theorems


%----------------------------------------------------------------------
%% Theorem-like
%----------------------------------------------------------------------
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}		% for theorems
\newtheorem{corollary}{Corollary}		% for corollaries
\newtheorem{lemma}{Lemma}		% for lemmas
\newtheorem{proposition}{Proposition}		% for propositions

\newtheorem{conjecture}{Conjecture}		% for conjectures
\newtheorem{claim}{Claim}		% for claims

\newtheorem*{corollary*}{Corollary}		% for corollaries (unnumbered)


%----------------------------------------------------------------------
%% Definition-like
%----------------------------------------------------------------------
\theoremstyle{definition}
\newtheorem{definition}{Definition}		% for definitions
\newtheorem{assumption}{Assumption}		% for assumptions
\newtheorem{example}{Example}		% for examples
\newtheorem{rexample}{Redux, Example}		% for examples

\newtheorem*{definition*}{Definition}		% for definitions (unnumbered)
\newtheorem*{assumption*}{Assumptions}		% for assumptions (unnumbered)
\newtheorem*{example*}{Example}		% for examples (unnumbered)


%----------------------------------------------------------------------
%% Remark-like
%----------------------------------------------------------------------
\theoremstyle{remark}
\newtheorem{remark}{Remark}		% for remarks
\newtheorem*{remark*}{Remark}		% for remarks (unnumbered)


%----------------------------------------------------------------------
%% Proofs
%----------------------------------------------------------------------
\def\endenv{\hfill\raisebox{1pt}{\P}\smallskip}
%\newenvironment{Proof}[1][Proof]{\begin{proof}[#1]}{\end{proof}}		% for redefining proofs
\renewcommand{\qedsymbol}{{\small$\blacksquare$}}		% for qed symbol


%----------------------------------------------------------------------
%% Numbering
%----------------------------------------------------------------------
%\numberwithin{equation}{section}		% for equation numbering (beware of cleveref)
%\numberwithin{theorem}{section}		% for theorem numbering
%\numberwithin{definition}{section}		% for definition numbering
%\numberwithin{remark}{section}		% for remark numbering
%\numberwithin{example}{section}		% for example numbering
%\numberwithin{example}{section}		% for example numbering


\input{macros}

\renewcommand{\resizebox}[3]{#3}
% Note: to produce the arxiv version,
% 1. comment out the resize box of cone function (x2)
% 2. set first fig width to 0.8\textwidth
% 3. remove \tiny of the subequation of body
% 4. set the last fig (mip primal and dual bound) fig width to 0.8\textwidth
% 5. remove ethics paragraph
\usepackage{ifthen}

\newboolean{IsArxivVersion}
\setboolean{IsArxivVersion}{true}


%**********************************************************************
%***    MAIN DOCUMENT
%**********************************************************************
\begin{document}


%**********************************************************************
%***    FRONTMATTER AND META
%**********************************************************************

%----------------------------------------------------------------------
%%% TITLE AND AUTHORS
%----------------------------------------------------------------------
\title
[Piecewise Polynomial Regression of Tame Functions via Integer Programming]
{Piecewise Polynomial Regression of Tame Functions \\ via Integer Programming}


%----------------------------------------------------------------------
\author
[G.~Bareilles]
{Gilles Bareilles$^{\dagger}$}
\address{$^{\dagger}$\,%
Faculty of Electrical Engineering, Czech Technical University of Prague, the Czech Republic.}
% \email{gilles.bareilles@fel.cvut.cz}

%----------------------------------------------------------------------
\author
[J.~Aspman]
{Johannes Aspman$^{\dagger}$}
% \email{}

%-------------------------------------------------------------------
\author
[J.~N\v{e}me\v{c}ek]
{Ji\v{r}\'{i} N\v{e}me\v{c}ek$^{\dagger}$}
% \email{}

%----------------------------------------------------------------------
\author
[J.~Mare\v{c}ek]
{Jakub Mare\v{c}ek$^{\dagger}$}
% \email{}


%----------------------------------------------------------------------
%%% THANKS
%----------------------------------------------------------------------
% \thanks{}


%----------------------------------------------------------------------
%%% KEYWORDS
%----------------------------------------------------------------------
% \subjclass[2020]{Primary 90C25, 90C15; secondary 68Q32, 68T05.}
% \keywords{%
% dual extrapolation;
% rate interpolation.}



%----------------------------------------------------------------------
%%% ABSTRACT
%----------------------------------------------------------------------
\begin{abstract}
\input{abstract.tex}
\end{abstract}



%**********************************************************************
%***    MAIN BODY
%**********************************************************************
\maketitle
\allowdisplaybreaks		% for breaking long displays
\acresetall		% for resetting acros



% \input{icml_body}
\input{body}


%*************************************************************
%*****    SUPPLEMENT  [SEPARATE FILES AT END IF NEEDED]
%*************************************************************
%\end{document}		% uncomment to suppress the appendices
\appendix
\setcounter{remark}{0}
\numberwithin{equation}{section}		% for numbering  in the appendix
\numberwithin{lemma}{section}		% for numbering  in the appendix
\numberwithin{proposition}{section}		% for numbering  in the appendix
\numberwithin{theorem}{section}		% for numbering in the appendix
\numberwithin{corollary}{section}		% for numbering  in the appendix


\section{Tame geometry}
\label{appx:def}
\input{appx_tamedefs}


\section{Proof of \cref{th:main}}
\label{sec:proof-th}
% \input{appx_proofmain}
\input{draft}


\section{Affine-hyperplane regression formulation: complete formulation}
\label{appx:affhyp}
\input{appx_summaryformulation}

\section{Axis-aligned regression formulation}
\label{appx:axisalign}
\input{appx_axisaligned}

\section{Additional details on \cref{sec:numer-exper}}
\label{sec:addit-deta-num}
\input{appx_numadddetails}

\section{Complementary experimental results}
\label{sec:numericalexperiments}
\input{appx_complnumexps}



%----------------------------------------------------------------------
%%% THANKS
%----------------------------------------------------------------------
\section*{Acknowledgments}
\begingroup
\small
This work has received funding from the European Unionâ€™s Horizon Europe research and innovation programme under grant agreement No. 101070568.
This work received funding from the National Centre for Energy II (TN02000025).
\endgroup



%**********************************************************************
%***    BIBLIOGRAPHY
%**********************************************************************
\bibliographystyle{plainnat}
\bibliography{refs.bib}


% \gbcomment{Old things below}
% \input{oldfiles/oldthings}

% \gbcomment{Below, to be removed for submission.}
% \input{oldfiles/icml_appx}

\end{document}

\section{Additional Definitions and Notation}
\ak{
\li
  \- check again that all proofs work when account for inputs -- some state sets that i thought are disjoit, may be not disjoint
\il
}

For a global state $s$ of system $\largesys$ and a local state $q$ (of template $A$ or $B$), 
we write $q \in s$ as shorthand for $\exists{p \in \{A,B_1,..,B_n\}} s(p) = q$.\ak{not used?} 

For a sequence $x=x_1,x_2,\ldots$ denote the subsequence between the $i$th and $j$th element 
of the sequence as $x\slice{i}{j}=x_i,\ldots,x_j$.
%and the subsequence of all elements starting from $i$ as $x\slice{i}{}=x_i, \ldots$\ak{the second is not used?}

By $\transition{q_i}{q_j}{e:g}$ denote a process transition from $q_i$ to $q_j$ 
for input $e$ and guarded by guard $g$. 
We skip the input $e$ and guard $g$ if they are not important or can be inferred from the context.

Given system state $s$, let $Set(s)$ be the set $ \{ q \| \exists p: s(p)=q \}$.

\begin{proof}
The figure below illustrates templates $(A,B)$ to prove the asymptotical optimality of cutoff $2|B|-1$ for deadlock detection problem. Template $A$ is any that never deadlocks. The system has a local deadlock only when there are at least $|B|$ copies of $B$, which is a constant factor of $2|B|-1$.
\begin{figure}[h]
\centering
\makebox[0.4\textwidth][c]{
\scalebox{0.75}{\input{img/disj_tight_deadlock_tmpl}}
}
\end{figure}
% 
% The same figure above can be used to prove the asymptotical optimalitity of the cutoff $|B|+2$ for local deadlock detection problem -- in this case the template $A$ is any that never deadlocks. As before, the system locally deadlocks only when there is at least $|B|$ processes $B$.
\end{proof}


% Figure~\ref{fig:disj:tight_deadlockA_tmpl} provides templates for the case (iii).\ak{hm, good to have a formal proof for the complicated template}
% % 
% % 
% % 
% % 
% % 
% \begin{figure}
% \centering
% \subfloat[Template A]{
% \centering
% \makebox[0.55\textwidth][c]{
% \scalebox{0.75}{\input{img/disj_tight_deadlockA_tmplA}}
% \label{fig:disj:tight_deadlockA_tmplA}
% }}
% \subfloat[Template B]{
% \centering
% \makebox[0.43\textwidth][c]{
% \scalebox{0.75}{\input{img/disj_tight_deadlockA_tmplB}}
% \label{fig:disj:tight_deadlockA_tmplB}
% }}
% \caption{Templates $(A,B)$ used to prove the tightness of the cutoff $c=|B|+1$ for strictly local deadlock by $A$ process detection (Observation~\ref{obs:disj:tight_deadlock})\ak{wrong}.}
% \label{fig:disj:tight_deadlockA_tmpl}
% \end{figure}
% % 

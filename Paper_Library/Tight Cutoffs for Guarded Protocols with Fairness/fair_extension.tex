\ak{adapt to dead}
Here, we consider a path $x$ that is the postfix of an unconditionally fair run $x'$ of $\largesys$, 
starting from the moment where no local states from $\visFin{\mB}{x'}$ are visited anymore. 
We construct a corresponding unconditionally-fair path $y$ of $\cutoffsys$, 
where no local states from $\visFin{\mB}{x'}$ are visited.

Formally, let $n \geq 2|B|$, and $x$ an unconditionally-fair path of $\largesys$ such that
$\visFin{\mB}{x}=\emptyset$.
Let $c \geq 2|B|$, and $s_1'$ a state of \cutoffsys
with
\li
\- $s_1'(A_1)=s_1(A_1)$, $s_1'(B_1)=s_1(B_1)$

\- for every $q \in \visInf{B_2..B_n}{x} \smi \visInf{B_1}{x}$,
   there are two processes $B_{i_q}, B_{i_q'}$ of \cutoffsys
   that start in $q$, i.e., $s_1'(B_{i_q})=s_1'(B_{i_q'})=q$

\- for every $q \in \visInf{B_2..B_n}{x} \cap \visInf{B_1}{x}$,
   there is one process $B_{i_q}$ of \cutoffsys
   that starts in $q$

\- for some $\qstar \in \visInf{B_2..B_n}{x} \cap \visInf{B_1}{x}$,
   there is one additional process of \cutoffsys, 
   different from any in the above, 
   called $B_{i_\qstar'}$,
   that starts in $\qstar$.

\- any other process $B_i$ of \cutoffsys 
   starts in some state of $\visInf{B_2..B_n}{x}$.
\il
Note that if $\visInf{B_2..B_n}{x}\cap \visInf{B_1}{x} = \emptyset$, 
then the third and fourth pre-requisites are trivially satisfied.

The fair extension extends state $s_1'$ of \cutoffsys 
to an unconditionally-fair path $y=(s'_1,e'_1,p'_1)\ldots$ 
with $y(A_1,B_1) = x(A_1,B_1)$ as follows:
\li
\-[(a)] $y(A_1)=x(A_1)$, $y(B_1)=x(B_1)$

\-[(b)] for every $q \in \visInf{B_2..B_n}{x} \smi \visInf{B_1}{x}$: 
       in run $x$ there is $B_i \in \{B_2..B_n\}$ 
       that starts in $q$ and visits it infinitely often. 
       Let $B_{i_q}$ and $B_{i'_q}$ of \cutoffsys mimic $B_i$ in turns: 
       first $B_{i_q}$ mimics $B_i$ until it reaches $q$, 
       then $B_{i'_q}$ mimics $B_i$ until it reaches $q$, and so on.

\-[(c)] arrange states of $\visInf{B_2..B_n}{x}\cap \visInf{B_1}{x}$ 
       in some order $(\qstar, q_1, \ldots, q_l)$.  
       The processes $B_{i_\qstar'}, B_{i_\qstar}, B_{i_{q_1}}, \ldots, B_{i_{q_l}}$ 
       behave as follows.
       Start with $B_{i_\qstar'}$: 
       when $B_1$ enters $\qstar$ in $y$, it carries%
       \footnote{``Process $B_1$ starting at moment $m$ carries process $B_i$ 
                 from $q$ to $q'$'' means: process $B_i$ mimics 
                 the transitions of $B_1$ starting at moment $m$ at $q$ 
                 until $B_1$ first reaches $q'$.}
       $B_{i_\qstar'}$             from $\qstar$ to $q_1$, 
       then carries $B_{i_{q_1}}$ from $q_1$ to $q_2$, \ldots, 
       then carries $B_{i_{q_l}}$ from $q_l$ to $\qstar$, 
       then carries $B_{i_\qstar}$ from $\qstar$ to $q_1$, 
       then carries $B_{i_\qstar'}$ from $q_1$ to $q_2$, 
       then carries $B_{i_{q_1}}$ from $q_2$ to $q_3$,
       and so on.

%\-[c2.] otherwise, $\visited_{\inf\cap B_1}{x} = \{ q^\star \}$. Then $B_1$ only ever makes transitions $q^\star \to q^\star$, thus let process $B_{i_{q^\star}}$ mimic this.

\-[(d)] any other $B_i$ of \cutoffsys,
       starting in $q \in \visInf{B_2..B_n}{x}$,
       mimics $B_{i_q}$.
\il
Note that parts (b) and (c) of the constrution ensure that there is always at
       least one process in every state from $\visInf{B_2..B_n}{x}$. This
       ensures that the guards of all transitions of the construction are satisfied.
Excluding processes in (d), the fair extension uses up to $2|B|$ copies of $B$.%
\footnote{A careful reader may notice that if
          $|\visInf{B_1}{x}|=1$ and $|\visInf{B_2..B_n}{x}|=|B|$,
          then the construction uses $2|B|+1$ copies of $B$.
          But one can slightly modify the construction for this special case,
          and remove process $B_{i_\qstar'}$ from the pre-requisites.}
%\li
%\- if $\visInf{B_2..B_n}{x} \cap \visInf{B_1}{x} = \emptyset$, then 
%     $$\leq 1+2|\visInf{B_2..B_n}{x}| \leq 1+2(|B|-1) = 2|B|-1$$
%   (note that $\visInf{B_1}{x}$ contains at least one state)
%
%\- otherwise:\\
%   let $smi = \visInf{B_2..B_n}{x} \smi \visInf{B_1}{x}$, \\
%   let $inter = \visInf{B_2..B_n}{x} \cap \visInf{B_1}{x}$, \\
%   then
%   $$\leq 1+2|smi| + |inter| + 1 \leq 1+2(|B|-1) + 1 + 1 = 2|B|+1$$
%   $$\leq 1+2|smi| + |inter| + 1 \leq 1+2(|B|-2) + 2 + 1 = 2|B|+1$$
%\il
%
%
%%%%%%%%%%%%% OLD FAIR EXTENSION %%%%%%%%%%%%%%%%%%%%%%
%Let $x=(s_1,e_1,p_1)\ldots$ be an unconditionally-fair path $x$ of $\largesys$, let $\visited_\fin{x}$ and $\visited_\inf{x}$ be defined wrt. no processes, let $n\geq 2|\visited_\inf{x}|$, and let $x$ satisfy: 
%\li
%  \- every $B_i\neq B_1$ visits $s_1(B_i)$ infinitely often
%  \- $\visited_\fin{x} = \emptyset$,
%\il
%and let $s_1'$ be a state of \cutoffsys with $c \geq 2|\visited_\inf{x}|$ that satisfies: 
%\li
%  \- $s_1'(A)=s_1(A)$, $s_1'(B_1)=s_1(B_1)$
%  \- for every $q \in \visited_\inf{x}$ there are two processes of \cutoffsys called $B_{i_q}$, $B_{i'_q}$ with $s_1'(B_{i_q}) = s_1'(B_{i'_q}) = q$
%  \- for all other processes $B_i$ of \cutoffsys (if any): $s_1'(B_i) \in \visited_\inf{x}$.
%\il
%The fair extension extends state $s_1'$ of \cutoffsys to an unconditionally-fair path $y=(s'_1,e'_1,p'_1)\ldots$ with $x(A,B_1) = y(A,B_1)$ as follows. Let $\visited_{\inf\cap B_1}{x}$ be the set of states visited infinitely often by process $B_1$, and $q^\star=s_1(B_1)$:
%\li
%\-[a.] $y(A)=x(A)$, $y(B_1)=x(B_1)$
%\-[b.] for every $q \in \visited_\inf{x} \smi \visited_{\inf\cap B_1}{x}$: in run $x$ there is $B_i$ that starts in $q$ and visits it infinitely often. Let $B_{i_q}$ and $B_{i'_q}$ of \cutoffsys mimic $B_i$ in turns: first $B_{i_q}$ mimics $B_i$ until it reaches $q$, then $B_{i'_q}$ mimics $B_i$ until it reaches $q$,\dots 
%\-[c1.] if $\visited_{\inf\cap B_1}\smi \{ q^\star \} \neq \emptyset$:
%\li
%  \- order arbitrarily $\visited_{\inf\cap B_1}\smi \{ q^\star \} = (q_1, q_2, \ldots, q_k)$
%  \- the processes $\{ B_{i_{q^\star}}, B_{i_{q_1}}, B_{i'_{q_1}}, B_{i_{q_2}}, B_{i'_{q_2}}, \ldots, B_{i_{q_k}}, B_{i'_{q_k}} \}$ behave as follows:
%  \- start with $B_{i_{q_1}}$: when $B_1$ enters $q_1$, it carries $B_{i_{q_1}}$ from $q_1$ to $q_2$, then carries $B_{i_{q_2}}$ from $q_2$ to $q_3$, \ldots, then carries $B_{i_{q_k}}$ from $q_k$ to $q^\star$, then carries $B_{i_{q^\star}}$ from $q^\star$ to $q_1$, then carries $B_{i'_{q_1}}$ from $q_1$ to $q_2$, and so on.
%\il
%\-[c2.] otherwise, $\visited_{\inf\cap B_1} \!=\! \{ q^\star \}$: $B_1$ only transits $q^\star \!\to\! q^\star$; let $B_{i_{q^\star}}$ mimic $B_1$
%
%\-[d.] let other processes $B_i$ of \cutoffsys with $s_1'(B_i)=q$ (if any) mimic $B_{i_q}$.
%\il
%%%%%%%%%%%%% END OF OLD FAIR EXTENSION %%%%%%%%%%%%%%%%%%%%%%

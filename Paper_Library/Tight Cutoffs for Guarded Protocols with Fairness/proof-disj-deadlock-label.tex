\begin{proof}
The proof works in the same way as the proof of Theorem~\ref{le:disj:deadlocks}, except:
\begin{enumerate}
\item instead of visited states we need to consider visited state labelings
\item we keep $x(A^1,B^1)$, wlog assuming that one of them is locally deadlocked in $x$
\item we use flooding for all state labelings
\item The main technical difference is that for \emph{finitely} often visited state labelings we need a modified evacuation construction, with multiple copies per labeling: 
\begin{itemize}
\item for a process $B^{\witfirst_L}$ that visits label $L$ first, and process $B^{\witlast_L}$ that visits labeling $L$ last in $x$, we cannot be sure that we can append the path from $B^{\witlast_L}$ to the path of $B^{\witfirst_L}$, since they may be in different states $q,q'$ with labeling $L$. 
\item Furthermore, another process with labeling $L'$ may be required to leave state $q$, and $L'$ may itself be a finitely visited state labeling. If $L'$ is evacuated before $B^{\witlast_L}$ reaches state $q'$ in $x$, then $B^{\witfirst_L}$ also needs to leave $q$. To ensure that we will still have a process with labeling $L$ (if it exists in $x$), we need another copy $B^{\witsecond_L}$ that is in a state $q''$ labeled with $L$ after $L'$ is evacuated (and thus, its evacuation cannot depend on labeling $L'$). If such a process does not exist in $x$, then it will also not be needed in the cutoff system. Since the evacuation from $q''$ may depend on another labeling $L''$, we may have to repeat the procedure, adding more copies as witnesses for labeling $L$.
\item To compute how many copies of $B$ are needed in total, let $\{L_1,\ldots,L_n\} = \visited_{fin}$, where $L_i$ is evacuated before $L_j$ in $x$ if $i < j$. Then for $L_1$ we only need one copy of $B$, since evacuation of $L_1$ cannot depend on any labelings that are evacuated before. In general, for labeling $L_i$ we need $i$ copies of $B$\ak{why $i$ is enough? why cannot happen smth like this -- }, since there are $i-1$ labelings that are evacuated before $L_i$, and for each of these we may need an additional copy of $B$ as a witness for $L_i$.
\end{itemize}
\item Overall, we thus need (roughly) $\card{\visited_{inf}} + \sum_{i=1}^{\card{\visited_{fin}}} i$ copies of $B$. The worst case is $\visited_{fin} = \labelings_B \setminus \{L\}$, since at least one labeling $L$ needs to be present infinitely often. Thus, the cutoff is $1 + \frac{\card{\labelings_B}\cdot(\card{\labelings_B}+1)}{2}$.
\end{enumerate}
\end{proof}
% macros.sty
% $Id: macros.sty,v 1.14 2008-04-29 11:12:51 schmitsy Exp $

% packages
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{color}
\usepackage[conditional,first,outline,light]{draftcopy}
\usepackage{fancyhdr}
\usepackage[final]{graphicx}
\usepackage{ifthen}
\usepackage[latin1]{inputenc}
\usepackage{listings}
\usepackage{subfig}
\usepackage{stmaryrd}
%\usepackage{tabularx}
%\usepackage{txfonts}
\usepackage{array}
\usepackage{url}
\usepackage{xspace}
%% mathabx
%% \DeclareFontFamily{U}{mathb}{\hyphenchar\font45}
%% \DeclareFontShape{U}{mathb}{m}{n}{
%%       <5> <6> <7> <8> <9> <10> gen * mathb
%%       <10.95> mathb10 <12> <14.4> <17.28> <20.74> <24.88> mathb12
%%       }{}
%% \DeclareSymbolFont{mathb}{U}{mathb}{m}{n}
%% \DeclareFontSubstitution{U}{mathb}{m}{n}
%% \DeclareMathSymbol{\arr}{3}{mathb}{"A1}
%%
\makeatletter
% draft option and footer accordingly
\gdef\myfncyrunjournal{Preprint}
\ifthenelse{\lengthtest{\overfullrule=5pt}}%
  {\newcommand{\myfncyfoot}{\RCSId}}
  {\newcommand{\myfncyfoot}{\myfncyrunjournal}}

% extensible dashs
\def\ext@dash#1#2#3#4#5#6#7{%
  \mathrel{\mathop{%
    \setbox\z@\hbox{#5\displaystyle}%
    \setbox\tw@\vbox{\m@th
      \hbox{$\scriptstyle\mkern#3mu{#6}\mkern#4mu$}%
      \hbox{$\scriptstyle\mkern#3mu{#7}\mkern#4mu$}%
      \copy\z@
    }%
    \hbox to\wd\tw@{\unhbox\z@}}%
  \limits
    \@ifnotempty{#7}{^{\if0#1\else\mkern#1mu\fi
                       #7\if0#2\else\mkern#2mu\fi}}%
    \@ifnotempty{#6}{_{\if0#1\else\mkern#1mu\fi
                       #6\if0#2\else\mkern#2mu\fi}}}%
}
\def\dashfill@#1#2#3#4{%
  $\m@th\thickmuskip0mu\thickmuskip\thickmuskip\thickmuskip\thinmuskip
   \relax#4\raisebox{-.225ex}{$#1$}\mkern-7mu%
   \cleaders\hbox{$#4\mkern-2mu#2\mkern-2mu$}\hfill
   \mkern-7mu#3$%
}
\def\vdashfill@{\dashfill@\vdash\relbar\relbar}
\def\vDashfill@{\dashfill@\vDash\Relbar\Relbar}
\newcommand{\xvdash}[2][]{\ext@dash 5300\vdashfill@{#1}{#2}}
\newcommand{\xvDash}[2][]{\ext@dash 3095\vDashfill@{#1}{#2}}


% definition of the provideenvironment command
\newenvironment{@useless}{}{}
\def\provideenvironment{\@star@or@long\provide@environment}
\def\provide@environment#1{%
  \@ifundefined{#1}
    {\new@environment{#1}}%
    {\renew@environment{@useless}}%
}

\def \@notp #1{\if #1\@false \else \@true \fi}

% flags
\def \@true {TT}
\def \@false {FL}
\def \@setflag #1=#2{\edef #1{#2}}

\long\def \@emptyargp #1{\@empargp #1\@empargq\@mark}
\long\def \@empargp #1#2\@mark{%
  \ifx #1\@empargq \@true \else \@false \fi}
\def \@empargq {\@empargq}

% ACM categories
\newcommand{\acmcategories}{\small\noindent{\itshape ACM categories: }}
\@setflag \@firstcategory = \@true
\providecommand{\category}[3]{%
  \if \@firstcategory
    \\[.5em]\acmcategories%}
    \@setflag \@firstcategory = \@false
  \else
    \unskip;\hspace{.75em}%
  \fi
  \@ifnextchar [{\@category{#1}{#2}{#3}}{\@category{#1}{#2}{#3}[]}}
\def \@category #1#2#3[#4]{%
  {\let \and = \relax
   #1 [\textit{#2}]%
   \if \@emptyargp{#4}%
     \if \@notp{\@emptyargp{#3}}: #3\fi
   \else
     :\space
     \if \@notp{\@emptyargp{#3}}#3---\fi
     \textrm{#4}%
   \fi
  }
}

% running heads
\gdef\myfncyrunauthor\@author
\gdef\myfncyruntitle\@title
\makeatother

% compatibility from various publisher styles to the standard article style
\providecommand{\copyrightspace}{}
\providecommand{\inst}[1]{}
\providecommand{\and}{ and }
\providecommand{\institute}[1]{\date{\begin{small}\renewcommand{\and}{\\[1em]} #1\end{small}}}
\providecommand{\address}[2][]{\date{{\small #2}}}
\providecommand{\authorrunning}[1]{\gdef\myfncyrunauthor{#1}}
\providecommand{\runauthor}[1]{\gdef\myfncyrunauthor{#1}}
\providecommand{\titlerunning}[1]{\gdef\myfncyruntitle{#1}}
\providecommand{\runtitle}[1]{\gdef\myfncyruntitle{#1}}
\providecommand{\tocauthor}[1]{}
\providecommand{\toctitle}[1]{}
\providecommand{\index}[1]{}
\providecommand{\href}[2]{\texttt{#2}}
\providecommand{\url}[1]{\href{#1}{#1}}
\providecommand{\email}[1]{\href{mailto:#1}{\texttt{#1}}}
\providecommand{\ead}[2][]{\email{#2}}
\providecommand{\journal}[1]{\gdef\myfncyrunjournal{#1}}
\providecommand{\published}[1]{\gdef\myfncyrunjournal{#1}}
\provideenvironment{frontmatter}
  {%
    \renewcommand{\author}[2][]{}
    \renewcommand{\ead}[2][]{}
    \renewcommand{\address}[2][]{\institute{##2}}
  }
  {}
\providecommand{\corauth}[2][]{}
\providecommand{\corauthref}[1]{}
\provideenvironment{abstract}
  {\small\begin{quotation}\noindent{\itshape R\'esum\'e\xspace}}
  {\end{quotation}}
\provideenvironment{keyword}
  {\small\begin{quotation}\noindent{\itshape Mots clefs :\xspace}}
  {\end{quotation}}
\providecommand{\categories}[1]{%
  {\small\begin{quotation}\acmcategories#1\end{quotation}}
}
\providecommand{\sep}{\unskip, }
\providecommand{\PACS}{}
\providecommand{\MSC}{}
\providecommand{\ack}{\paragraph{Acknowledgements}%
  \addtocontents{toc}{\protect\vspace{6pt}}%
  \addcontentsline{toc}{section}{Acknowledgements}%
}
\providecommand{\doi}[1]{\href{http://dx.doi.org/#1}{doi: #1}}
\providecommand{\arxiv}[1]{\href{http://arxiv.org/abs/#1}{arXiv:#1}}

%%
% theorems
\theoremstyle{plain}
\newtheorem{mytheorem}{Theorem}%[chapter]
\newtheorem{mylemma}{Lemma}%[chapter]
\newtheorem{myproposition}{Proposition}%[chapter]
\newtheorem{mycorollary}{Corollary}%[chapter]
\theoremstyle{definition}
\newtheorem{mydefinition}{Definition}%[chapter]
\newtheorem{myexample}{Example}%[chapter]

% theorem counters
\renewcommand{\themylemma}{\themytheorem}
\renewcommand{\themyproposition}{\themytheorem}
\renewcommand{\themycorollary}{\themytheorem}
\renewcommand{\themydefinition}{\themytheorem}
\renewcommand{\themyexample}{\themytheorem}

% theorem environments
\provideenvironment{example}
  {\stepcounter{mytheorem}\begin{myexample}}{\qed\end{myexample}}
\provideenvironment{definition}
  {\stepcounter{mytheorem}\begin{mydefinition}%
   \renewcommand{\labelenumi}{\it(\roman{enumi})}}
  {\qed\end{mydefinition}}
\provideenvironment{corollary}
  {\stepcounter{mytheorem}\begin{mycorollary}%
   \renewcommand{\labelenumi}{\it(\roman{enumi})}}
  {\end{mycorollary}}
\provideenvironment{lemma}
  {\stepcounter{mytheorem}\begin{mylemma}%
   \renewcommand{\labelenumi}{\it(\roman{enumi})}}
  {\end{mylemma}}
\provideenvironment{proposition}
  {\stepcounter{mytheorem}\begin{myproposition}%
   \renewcommand{\labelenumi}{\it(\roman{enumi})}}
  {\end{myproposition}}
\provideenvironment{theorem}
  {\begin{mytheorem}\renewcommand{\labelenumi}{\it(\roman{enumi})}}
  {\end{mytheorem}}
\providecommand{\qed}{\hfill\mbox{$\square$}}
\provideenvironment{proof}{\textit{Proof.}~}{\qed\par}
%%

\providecommand{\e}{\varepsilon}
\providecommand{\ie}{i.e.}
\providecommand{\eg}{e.g.}
\providecommand{\etc}{etc.}
\providecommand{\pf}{\proof}
\providecommand{\maketitle}{}
%
% new
\newcommand{\fncy}{%
  \makeatletter
  \renewcommand{\ps@plain}{%
    \renewcommand\@evenhead{}
    \let\@oddhead\@evenhead
    \renewcommand\@evenfoot{\hfil\normalfont\myfncyfoot\hfil}
    \let\@oddfoot\@evenfoot
  }
  \pagestyle{fancy}
  \fancyhead{}
  \fancyhead[RO,LE]{\thepage}
  \fancyhead[LO]{\myfncyruntitle}
  \fancyhead[RE]{\myfncyrunauthor}
  \fancyfoot{}
  \cfoot{\myfncyfoot}
  \makeatother
}
\newcommand{\func}[1]{\text{\textnormal{#1}}}
\newcommand{\N}[1]{\langle\mathit{#1}\rangle}
\newcommand{\mi}[1]{\mathit{#1}}
\newcommand{\Np}[1]{<~\negthickspace\negthickspace\mathit{#1}\!\negmedspace\negthickspace~>}
\newcommand{\rel}[1]{\mathrel{\text{\textsf{#1}}}}
\newcommand{\rela}[1]{\rel{#1}^\ast}
\newcommand{\pfx}[2][1]{#2\negmedspace:\negmedspace#1}
\newcommand{\shift}{\vdash\negthickspace\negthickspace\negthickspace\protect\raisebox{-0.3em}{\mbox{\tiny{shift}}}}
\newcommand{\red}[1]{\vdash\negthickspace\negthickspace\negthickspace\protect\raisebox{-0.3em}{\mbox{\tiny{$#1$}}}}
\newcommand{\rewr}[1]{\models\negthickspace\negthickspace\negthickspace\protect\raisebox{-0.3em}{\mbox{\tiny{$#1$}}}}
\newcommand{\st}[1]{\llbracket #1\rrbracket}
\newcommand{\todo}{{\color[rgb]{1,0,0} \textbf{TODO}}}
% symbols
\renewcommand{\a}{\alpha}
\newcommand{\gb}{\beta}
%\renewcommand{\c}{\gamma}
\newcommand{\gd}{\delta}
\renewcommand{\j}{\xi}
\renewcommand{\k}{\kappa}
\renewcommand{\l}{\lambda}
\renewcommand{\r}{\rho}
\renewcommand{\t}{\tau}
\renewcommand{\e}{\varepsilon}
\newcommand{\f}{\varphi}
\newcommand{\g}{\gamma}
\newcommand{\m}{\mu}
\newcommand{\s}{\sigma}
\newcommand{\x}{\chi}
\newcommand{\w}{\omega}
\newcommand{\z}{\zeta}
%\renewcommand{\i}{\iota}
\newcommand{\n}{\nu}
\newcommand{\A}{\mathcal{A}}
\newcommand{\eN}{\stackrel{\scriptscriptstyle\mathcal{N}}{\equiv}}

\newcommand{\sr}{\mathit{sr}}
\newcommand{\T}{\mathcal{T}}
\newcommand{\K}{\mathcal{K}}
\newcommand{\F}{\mathcal{F}}
\newcommand{\sD}{\mathcal{D}}
\newcommand{\sN}{\mathcal{N}}
\newcommand{\C}[1]{\mathcal{C}}
% construction relation
\newcommand{\ir}[1][]{\mbox{$\stackrel{\mbox{\scriptsize{$#1$}}}{\rightharpoondown\negthickspace\negthickspace\negthickspace\rightharpoondown\negthickspace\negthickspace\negthickspace\rightharpoondown}$}}
\newcommand{\irn}[2][]{\mbox{$\ir[#1]\protect\raisebox{0.3em}{\mbox{\tiny{$#2$}}}$}}
\newcommand{\ira}[1][]{\mbox{$\irn[#1]{\ast}$}}
\newcommand{\irp}[1][]{\mbox{$\irn[#1]{+}$}}
% parent relation
\newcommand{\pa}[2][]{\mbox{$\stackrel{\mbox{\scriptsize{$#1$}}}{\leadsto}_{\mbox{\negthinspace\tiny{#2}\thinspace}}$}}% ^i^>
\newcommand{\pan}[3][]{\mbox{$\pa[#1]{#2}\protect\raisebox{0.3em}{\mbox{\tiny{$#3$}}}$}}
\newcommand{\paa}[2][]{\mbox{$\pan[#1]{#2}{\ast}$}}
\newcommand{\pap}[2][]{\mbox{$\pan[#1]{#2}{+}$}}
% lookaheads
\newcommand{\Lak}{\func{La}_k}
\newcommand{\RLak}{\func{La}_k^{\rm lm}}
% valid item sets
\newcommand{\Val}{\func{Valid}}
% language
\renewcommand{\L}{\mathcal{L}}
\renewcommand{\C}{\mbox{$\mathcal{C}$}} 

% grammar
\newcommand{\bof}{\$}                  % |-
\newcommand{\eof}{\$}                  % -|
\newcommand{\G}{\mathcal{G}}                  % grammar
\newcommand{\Va}{V^{\ast}}                 % V*
\newcommand{\Vae}{\Va\!/\!\!\equiv}        % V*/=
\newcommand{\Vp}{V^{\scriptscriptstyle+}}  % V+
\newcommand{\Ta}{T^{\ast}}                 % T*
\newcommand{\Tz}{T^{\scriptscriptstyle 0}} % T+
\newcommand{\Tp}{T^{\scriptscriptstyle+}}  % T+

% productions
\renewcommand{\P}[1][]{\xrightarrow{#1}} % -->

% derivations
\makeatletter % extensible double right arrow; from amsmath.sty
\newcommand{\Xrightarrow}[2][]{\ext@arrow 0359\Rightarrowfill@{#1}{#2}}
\makeatother
\newcommand{\D} [1][]{\mathrel{\Xrightarrow{#1}}}                 % =>
\newcommand{\Ds}[1]{\mathrel{\Xrightarrow{}^{#1}}}                % =>^
\newcommand{\Dp}{\Ds{{\scriptscriptstyle +}}}                     % =>+
\newcommand{\Da}{\Ds{\ast}}                                       % =>*
\newcommand{\Db} [1][]{\mathrel{\Xrightarrow{#1}_b}}              % =>b
\newcommand{\Dsb}[1]{\mathrel{\Xrightarrow{}^{#1}_b}}             % =>^_b
\newcommand{\Dpb}{\Dsb{{\scriptscriptstyle +}}}                   % =>_b+
\newcommand{\Dab}{\Dsb{\ast}}                                     % =>_b*
\newcommand{\Du}[2][]{\mathrel{\Xrightarrow[\raisebox{.4ex}{$\scriptscriptstyle #1$}]{#2}}}                                     % =>_b*
\newcommand{\Dub}[2][]{\mathrel{\Xrightarrow[\raisebox{.4ex}{$\scriptscriptstyle #1$}]{#2}\!\mbox{$_b$}}}
\newcommand{\Dr}[1][]{\Du[\rm rm]{#1}}
\newcommand{\Drb}[1][]{\Dub[\rm rm]{#1}}
\newcommand{\Dl}[1][]{\Du[\rm lm]{#1}}
\newcommand{\Dlb}[1][]{\Dub[\rm lm]{#1}}
%\newcommand{\Drp}    {\mbox{$\Dr^{\scriptscriptstyle+}$}} % Drm+
\newcommand{\Dra}{\mathrel{\Xrightarrow[\raisebox{.4ex}{$\scriptscriptstyle\rm rm$}]{}^\ast}}                                                % Drm*
\newcommand{\Drab}{\mathrel{\Xrightarrow[\raisebox{.4ex}{$\scriptscriptstyle\rm rm$}]{}^\ast_b}}                                                % Drm*
\newcommand{\Dua}    {\mbox{$\Du^{\ast}$}}                % Du*
\newcommand{\Dup}    {\mbox{$\Du^{\scriptscriptstyle+}$}} % Du+
\newcommand{\Dla}    {\mbox{$\Dl\!\!^{\ast}$}}                % Dlm*
\newcommand{\Dlab}   {\mathrel{\Dlb\!\!\!\!^{\ast}}}                % Dlm*

% rewrites
\newcommand{\R}[1][]{\mathrel{\mbox{$\xvdash{#1}$}}} % |-
\newcommand{\W}[1][]{\mathrel{\mbox{$\xvDash{#1}$}}} % |=
\newcommand{\Wa}{\mathrel{\mbox{$\xvDash{}^\ast$}}}  % |=*

% transitions
\newcommand{\tr}[1][]{\mathrel{\raisebox{-.226ex}{$\rhook$}\mspace{-7.5mu}\xrightarrow{#1}}}
\newcommand{\trk}[1][]{#1\vdash}
\newcommand{\trr}[1][]{#1\vDash}
\newcommand{\tra}[1][]{#1\vDash^\ast}
\newcommand{\trp}[1][]{#1\vDash^+}
%% \newcommand{\tre}[1]{\thinspace\stackrel{\scriptscriptstyle #1}{\mapstochar\joinrel\mapstochar\joinrel\longrightarrow}}
%% \newcommand{\tra}[1]{\mbox{$\stackrel{\!\scriptscriptstyle#1}{\raisebox{0ex}[1ex]{$\mapstochar\joinrel\longrightarrow^\ast$}}$}}
%% \newcommand{\trak}[1]{\mbox{$\stackrel{\!\scriptscriptstyle#1}{\raisebox{0ex}[1ex]{$\mapstochar\joinrel\longrightarrow^\ast_\k$}}$}}
\newcommand{\tup}[1]{\langle#1\rangle}
% dot
%%J
%% \newcommand{\p}{\negthinspace\protect\raisebox{-0.8ex}{\mbox{\huge$\cdot$}}\negthinspace} % ·
\newcommand{\p}{\protect\raisebox{-0.8ex}{\mbox{\huge$\cdot$}}} % ·
% emphasize keywords
\newcommand{\define}{\emph}

% theorems
%% \newtheoremstyle{cite}{1em}{1em}{\itshape}{}{\sc}{.}{.5em}%
%%                 {\thmname{#1}{\rm\thmnote{ #3}}}
%% \newtheoremstyle{latex}{1em}{1em}{\itshape}{}{\sc}{.}{.5em}%
%%                 {\thmname{#1}\thmnumber{ #2}{\rm\thmnote{ (#3)}}}
%% \theoremstyle{cite}
%% \newtheorem{lemcite}{Lemma}
%% \theoremstyle{latex}

% grammars
\newcounter{grammar}
\newcommand{\gr}[1]{% New grammar name; use: \gr{label}
\refstepcounter{grammar}\label{gram:#1}\text{$\G_\thegrammar$}%
}
\newcommand{\gor}{\negthinspace\mid\negthinspace} % BNF alternation
\newcommand{\grf}[2][]{% Refers to a grammar name; use: \grf{label}
  \text{$\G_{\text{\ref{gram:#2}}}^{#1}$}%
}
\newcommand{\gdf}[2][]{% Defines a new grammar; use: \gdf[label]{grammar rules}
  \ifthenelse{\equal{#1}{}}%
    {%
      \[#2\]%
    }%
    {%
      \[#2\refstepcounter{grammar}\label{gram:#1}\eqno{(\G_{\text{\ref{gram:#1}}})}\]%
    }%
}
%% \newcounter{grammar}
%% %\newcommand{\thegrammar}{\text{$\G_\text{\arabic{grammar}}$}}
%% \newcommand{\gr}[1]{% New grammar name; use: \gr{label}
%% \refstepcounter{grammar}\label{gram:#1} \grf{#1}}%

%% \newcommand{\gor}{\mid} % BNF alternation
%% \newcommand{\grf}[1]{% Refers to a grammar name; use: \grf{label}
%%   \text{$\G_{\text{\ref{gram:#1}}}$}%
%% }
%% \newcommand{\gdf}[2][]{% Defines a new grammar; use: \gdf[label]{grammar rules}
%%   \ifthenelse{\equal{#1}{}}%
%%     {%
%%       \[#2\]%
%%     }%
%%     {%
%%       \[#2\refstepcounter{grammar}\label{gram:#1}\eqno{(\grf{#1})}\]%
%%     }%
%% }
%
% acronyms
\newcommand{\acr}[1]{(#1)\xspace}
% non break dash
\newcommand{\nbd}{\nobreakdash}
\newcommand{\ed}{$\e$\nbd}  % 'epsilon-'stuff,
                            % weird error when put in \paragraph
% table with comments
\newlength{\myhspace}
\setlength{\myhspace}{0em}
\newlength{\myminipagewidth}
%\setlength{\myminipagewidth}{235pt}
\setlength{\myminipagewidth}{.99\linewidth}
\newcommand{\tcomment}[1]{%
  \multicolumn{3}{l}{%
%    \hspace{-5pt}%
%    \begin{minipage}[t]{235pt}%
    \begin{minipage}[t]{.99\myminipagewidth}%
        {\footnotesize%
          #1\vspace{0.4em}
          }%
    \end{minipage}%
  }%
}
% figure and table space
%% \newlength{\myfigbsp}
%% \setlength{\myfigbsp}{-2em} % bottom space
%% \newlength{\myfigtsp}
%% \setlength{\myfigtsp}{-1.5em} % top space
%% \newlength{\myfigcsp}
%% \setlength{\myfigcsp}{-1.5em} % caption space
%% \newlength{\mytabbsp}
%% \setlength{\mytabbsp}{-2em} % bottom space

% lists
\newcommand{\condlabel}[1]{(#1)}
\newlength{\condlength}
\newenvironment{conditions}[1]%
  { \begin{list}{}%
      { \renewcommand{\makelabel}[1]{\condlabel{##1}\hfil}%
        \settowidth{\condlength}{\condlabel{#1}}%
        \setlength{\labelwidth}{\condlength}%
        \setlength{\labelsep}{1em}%
        \setlength{\itemsep}{0.5em}%
        \setlength{\leftmargin}{\labelwidth}%
        \addtolength{\leftmargin}{\labelsep}%
        \renewcommand{\theenumi}{\alph{enumi}}%
        \renewenvironment{enumerate}%
          { \begin{list}{\labelenumi}%
              { \usecounter{enumi}%
                \setlength{\itemsep}{0pt}%
                \addtolength{\leftmargin}{-\condlength}}}%
          {\end{list}}%
        \renewenvironment{itemize}%
          { \begin{list}{}%
              { \setlength{\itemindent}{-1.7em}%
                \setlength{\itemsep}{0pt}}}%
          {\end{list}}%
      }%
  }%
  {\end{list}}
%
% tables
\newcommand{\cd}[1]{\mbox{\textcircled{$\scriptstyle #1$}}}
\newcommand{\rrec}{\mathrel{\mbox{\reflectbox{$\angle$}}}}
\newcommand{\lrec}{\mathrel{\angle}}

%% listings
\newcommand{\cpp}{\lstinline[language=C++]}
\newcommand{\java}{\lstinline[language=Java]}
\newcommand{\ml}{\lstinline[language=ML]}

\newcommand{\nfa}[1]{\Gamma/\mbox{$#1$}}
\newcommand{\nfae}{\nfa{\equiv}}
\newcommand{\cov}{\genfrac{}{}{0pt}1}
\newcommand{\itm}[4]{(\cov{#1}{#2}\p\cov{#4}{#3})}
\newcommand{\de}{\ssearrow\negthickspace}
\newcommand{\overlap}{\mathrel{\cap\negmedspace\negmedspace\negmedspace\vee}}


\newcommand{\tabrulelabelt}[5]{
\begin{equation}
  \label{#1}
        \frac{ \begin{array}{c} #2 \end{array} }
                        { \begin{array}{c} #3 \end{array} }
   \left\{ \begin{array}{l} #4 \end{array} \right.\tag{#5}
  \end{equation}
}
\newcommand{\tabrulelabell}[4]{
\begin{equation}
  \label{#1}
        \frac{ \begin{array}{c} #2 \end{array} }
                        { \begin{array}{c} #3 \end{array} }\tag{#4}
  \end{equation}
}
\newcommand{\tabrulelabel}[4]{
\begin{equation}
  \label{#1}
        \frac{ \begin{array}{c} #2 \end{array} }
                        { \begin{array}{c} #3 \end{array} }
   \left\{ \begin{array}{l} #4 \end{array} \right.
  \end{equation}
}
\newcommand{\tabrulelabelo}[6]{
  \frac{ \begin{array}{c} #2 \end{array} }%
       { \begin{array}{c} #3 \end{array} }%
  & \left\{ \begin{array}{l} #5 \end{array}%
    \right\}\begin{array}{l} #6 \end{array}%
  \label{#1}\tag{#4}
}

\newcommand{\pD}{\mathrel{\Yleft}}
\newcommand{\pDa}{\mathrel{\Yleft^\ast}}

\newcommand{\rreca}{\mathrel{\mbox{\reflectbox{$\angle$}$\negthinspace^\ast$}}}
\newcommand{\lreca}{\mathrel{\angle^\ast}}

\newcommand{\fstruct}[1]{%
  \setlength{\arraycolsep}{1pt}%
  \renewcommand{\arraystretch}{.5}%
  \left[\begin{array}{>{\scriptscriptstyle}r@{\scriptscriptstyle\;:\;}>{\scriptscriptstyle}l}%
       #1%
    \end{array}\right]}
\newcommand{\subs}{$\downarrow$}
\newcommand{\foot}{$^\ast$}
\newcommand{\na}{$^{\text{\tiny{NA}}}$}
\newcommand{\anc}{$\diamond$}
\newcommand{\tp}{{\tiny\itshape top:}}
\newcommand{\bt}{{\tiny\itshape bot:}}

\providecommand{\sectionautorefname}{Section}
\providecommand{\subsectionautorefname}{Section}
\providecommand{\subsubsectionautorefname}{Section}
\renewcommand{\sectionautorefname}{Section}
\renewcommand{\subsectionautorefname}{Section}
\renewcommand{\subsubsectionautorefname}{Section}
\providecommand{\subfigureautorefname}{Figure}
\providecommand{\myexampleautorefname}{Example}

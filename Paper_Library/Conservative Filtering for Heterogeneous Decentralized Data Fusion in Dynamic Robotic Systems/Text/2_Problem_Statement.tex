Consider a robot $i$ from the network of $n_r$ robots described in Sec. \ref{Sec:background}. Without loss of generality, assume that this robot has two neighbors $j$ and $m$ and the three robots are part of an undirected a-cyclic communication topology, such that $j-i-m$ (i.e., $j$ does not have a way to receive data from $m$ other than through $i$). Robot $i$ exchanges data over its sets of common variables $\chi^{ij}_C$ and $\chi^{im}_C$ with robots $j$ and $m$, respectively, via the HS-CF fusion rule (\ref{eq:Heterogeneous_fusion}). Suppose that $V$, the global set of variables monitored by the $n_r$ robots, describes some systems' random state vector, constructed out of dynamic and static states.

Every robot $i$ gathers data and updates its prior pdf in two ways: (i) by independent sensor measurements $y^{i,l}_{k}\in Y^i_k$, described by the conditional likelihood $p(Y^i_k|\chi^i_k)=\prod_{l}p(y^{i,l}_{k}|\chi^{i,l}_{k})$ and updated using Bayes' rule, where $\chi^{i,l}_{k}$ is the subset $l$ of states, measured by the $y^{i,l}_{k}$ measurement, taken by robot $i$ at time step $k$; (ii) peer-to-peer heterogeneous fusion of data $Z^{j,-}_k$ from a neighboring robot $j\in N_r^i$, updated via (\ref{eq:Heterogeneous_fusion}). 

We begin our analysis from time step 1, with the initial pdf $p(\chi^i_{2:1}|Z^{i,+}_1)$ (post fusion) and conditional independence structure of the type shown in Fig. \ref{fig:fullGraph}(a), where $\chi^i_{2:1}$ denotes the augmented state of time steps $1$ and $2$, and $Z^{i,+}_1$ is all the data gathered by robot $i$ up to and including time step 1. The graph also shows `neighborhood variables' not monitored (hidden) from robot $i$ in the dashed nodes and hidden dependencies are noted by the dashed lines. 

\input{Figures/Full_graph_fig}

It can be seen that non-mutual variables are independent given the common variables, e.g., 
\begin{equation*}
    \chi_L^m\perp \chi_L^i, \chi_{C,1}^{ij\setminus m}, \chi_{C,2}^{ij\setminus m}| \chi_{C,1}^{im}, \ \ \ \chi_{C,1}^{im}=\chi_{C,1}^{ijm}\cup \chi_{C,1}^{im\setminus j}.
\end{equation*}
Here common variables are separated into three different sets $\chi_C^{ijm}$, $\chi_C^{ij\setminus m}$ and $\chi_C^{im\setminus j}$,  respectively representing variables common to the three robots, variables common to $i$ and $j$ but not to $m$, and variables common to $i$ and $m$ but not to $j$. 
Dependencies between these subsets are created by fusion, which introduces the factors $f^{im}_1$ and $f^{ij}_1$, coupling the variables in the common sets $\chi^{im}_{C,1}$ and $\chi^{ij}_{C,1}$, respectively, as a result of marginalization of non-mutual variables at the communicating robots $m$ and $j$, e.g., $p(\chi^{ij}_C|Z^{j,-}_k)$ in (\ref{eq:Heterogeneous_fusion}) \cite{dagan_factor_2021}. A dictionary for the different types of factors and their interpretation is given in Table \ref{tab:factor_definitions}. 

%\input{Figures/ProblemStatement_fig}


\begin{table}[tb]
\renewcommand{\arraystretch}{1.75}
\caption{Factors dictionary, giving examples for different types of factors, their notation and their pdf interpretation.  }
    \begin{center}
    \begin{tabular}{c|c|c}
        Factor  & Type & Proportional to  \\ \hline
        $f^{i,l}_k$ & Local measurement & $p(y^{i,l}_{k}|\chi^{i,l}_{k})$ \\ \hline
        $f^{ij\setminus m}_{2|1}$ & Dynamic prediction   &  $p(\chi^{ij\setminus m}_{C,2}|\chi^{ij\setminus m}_{C,1})$ \\ \hline
        $f_k^{ij}$ & Fusion & $p(\chi^{ij}_C|Z^{j,-}_k)$ (from (\ref{eq:Heterogeneous_fusion}))\\ \hline
         \textcolor{red}{$f^{i}_2$}& Dense marginalization & $\int p(\chi^i_{2:1}|Z^{i,+}_1)d\chi_{C,1}^i$  \\ \hline
         \textcolor{red}{$\tilde{f}^{ij}_2$}& Approximate marginalization & $\int \tilde{p}(\chi^i_{2:1}|Z^{i,+}_1)d\chi_{C,1}^i$ (\ref{eq:local_k21})\\ 
    \end{tabular}
    \end{center}
    \label{tab:factor_definitions}
    \vspace{-0.2in}
\end{table} 

As can be seen from Fig \ref{fig:fullGraph}(a), the graph encodes the following local pdf factorization,
\begin{equation}
    \begin{split}
        &p(\chi^i_{2:1}|Z^{i,+}_1) = p(\chi_L^i)\cdot \\   &p(\chi^{ijm}_{C,1}|\chi_L^i)\cdot p(\chi^{im\setminus j}_{C,1}|\chi^{ijm}_{C,1},\chi_L^i) \cdot p(\chi^{ij\setminus m}_{C,1}|\chi^{ijm}_{C,1},\chi_L^i)\cdot \\
         &p(\chi^{ijm}_{C,2}|\chi^{ijm}_{C,1}) 
        \cdot p(\chi^{im\setminus j}_{C,2}|\chi^{im\setminus j}_{C,1})   \cdot p(\chi^{ij\setminus m}_{C,2}|\chi^{ij\setminus m}_{C,1}), 
    \end{split}
    \label{eq:factorization}
\end{equation}
where the conditioning on the data $Z_1^{i,+}$ is omitted from the right side of the equations for the rest of the paper for brevity. 

In Fig. \ref{fig:fullGraph}(b), marginalization of past common nodes of time step 1 (filtering) results in a dense factor, causing  both `hidden' and `visible' dependencies. Here hidden refers to variables and dependencies being hidden from robot's $i$ perspective (dashed variables and grey factors in Fig. \ref{fig:fullGraph}), and visible suggests the the variables, thus the dependencies, exist in the robot's local graph. 

The problem is therefore formulated in the following way: we seek a method to filtering that: (i) results in a conservative posterior pdf after the next fusion step and (ii) maintains the conditional independence requirement between non-mutual variables. That is, we ask for a conservative approximation $\hat{p}(\cdot)$ of the pdf $p(\cdot)$, 
\begin{equation}
    \begin{split}
        \hat{p}(\chi^i_{2}|Z^{i,+}_1)\succeq \int p(\chi^i_{2:1}|Z^{i,+}_1)d\chi_{C,1}^i,
    \end{split}
    \label{eq:approx_definition}
\end{equation}
where `$\succeq$' denotes conservative. The question regarding the meaning of conservative in the case of general pdfs is beyond the scope of this paper and the reader is referred to \cite{lubold_formal_2021} and \cite{dagan_exact_2021} for further discussion. It will be assumed later that the distributions can be described using their first two moments (mean and covariance), so that then a commonly used definition of conservativeness exists.

%\input{Figures/Full_graph_fig}

We define a conservative posterior pdf as one that does not underestimate the uncertainty over the robot's set of random variables  $\chi^{i}_{k}\subseteq V_k$ relative to the marginal pdf over $\chi^{i}_{k}$ of a consistent centralized pdf. 
Consistency here means that the fused result does not overestimate or underestimate the true uncertainty. 
The centralized pdf refers to the posterior pdf over the full global set of random variables $\chi_k$, conditioned on all the available data from all the robots up and including time step $k$, $p(V_k|\bigcup_{i\in N_r} Z^-_{i,k})$. For a more complete discussion on conservative pdfs and point estimates, see \cite{dagan_exact_2021}. 

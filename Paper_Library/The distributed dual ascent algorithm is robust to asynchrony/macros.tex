%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%        macros.tex                  %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% last modified: 2020-10-08

%Packages
\usepackage{amsmath, amssymb, bbm, xspace}
\usepackage{amsfonts,mathrsfs}
\usepackage{mathtools}
\usepackage{color}
\usepackage{graphicx}
\usepackage{epsfig}
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage[acronym]{glossaries}
\usepackage{subfigure}
\usepackage{cancel}
\usepackage{empheq}
\usepackage{placeins}
\let\labelindent\relax
\usepackage{enumitem}
\usepackage{textgreek}
\usepackage{url}
\urlstyle{same}

%Language
\newcommand{\ie}{i.e.\@\xspace} %%% i.e.,
\newcommand{\eg}{e.g.\@\xspace} %%% e.g.,
\newcommand{\Matlab}{\textsc{Matlab}\xspace}
\def\be{\begin{equation}}
\def\ee{\end{equation}}
\def\ba{\begin{align}}
\def\ea{\end{align}}
\def\bas{\begin{align*}}
\def\eas{\end{align*}}
%\newcommand*{\QED}{\null\nobreak\hfill\ensuremath{\blacksquare}}%
%\newcommand*{\QEDopen}{\null\nobreak\hfill\ensuremath{\square}}%
\newcommand{\bs}{\boldsymbol}
\newcommand{\mc}{\mathcal}
\newcommand{\red}{\textcolor{red}}
\newcommand{\blue}{\textcolor{black}}
\newcommand{\magenta}{\textcolor{magenta}}
\definecolor{darkgreen}{rgb}{0.0, 0.5, 0.0}
\newcommand{\green}{\textcolor{darkgreen}}
\renewcommand{\emph}{\textit}
\newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}}

%Glossaries
\makeglossaries
\newacronym{GNEP}{GNEP}{generalized Nash equilibrium problem}
\newacronym{NE}{NE}{Nash equilibrium}
\newacronym{NEP}{NEP}{Nash equilibrium problem}
\newacronym{GNE}{GNE}{generalized Nash equilibrium}
\newacronym{v-GNE}{v-GNE}{variational \gls{GNE}}
\newacronym{ISS}{ISS}{Input-to-state-stable}
\newacronym{PPA}{PPA}{proximal-point algorithm}
\newacronym{PPPA}{PPPA}{preconditioned \gls{PPA}}
\newacronym{VI}{VI}{variational inequality}
\newacronym{GAE}{GAE}{generalized aggregative equilibrium}
\newacronym{v-GAE}{v-GAE}{variational \gls{GAE}}
\newacronym{KKT}{KKT}{Karush--Kuhn--Tucker}
\newacronym{FQNE}{FQNE}{firmly quasinonexpansive}
\newacronym{FNE}{FNE}{firmly nonexpansive}
\newacronym{ADMM}{ADMM}{alternating direction method of multipliers}
\newacronym{MPMM}{MPMM}{modified proximal method of multipliers}
\newacronym{OPF}{OPF}{optimal power flow}
\newacronym{OPFP}{OPFP}{optimal power flow problem}
\newacronym{NUM}{NUM}{network utility maximization}
%Standard symbols
\renewcommand{\iff}{\; \Leftrightarrow \;}
\newcommand{\0}{\bs 0}
\def\1{{\bs 1}}

%Various functions
\newcommand{\mini}{\operatorname{minimize}}
\def\argmin{\mathop{\rm argmin}}
\def\argmax{\mathop{\rm argmax}}
\newcommand{\minimize}[1]{\displaystyle\minim_{#1}}
\newcommand{\minim}{\mathop{\hbox{\rm minimize}}}
\newcommand{\maximize}[1]{\displaystyle\maxim_{#1}}
\newcommand{\maxim}{\mathop{\hbox{\rm maximize}}}
\newcommand{\col}{\mathrm{col}}
\newcommand{\avg}{\operatorname{avg}}
\newcommand{\abs}[1]{\ensuremath{|#1|}}
\newcommand{\inv}{^{-1}}
\def\det{\mathop{\hbox{\rm det}}}
\def\diag{\mathop{\hbox{\rm diag}}}
\def\dim{\mathop{\hbox{\rm dim}}}  
\def\exp{\mathop{\hbox{\rm exp}}}  
\def\In{\mathop{\hbox{\it In}\,}}
\def\boundary{\mathop{\hbox{\rm bnd}}}
\def\interior{\mathop{\hbox{\rm int}}}
\def\Null{\mathop{\hbox{\rm null}}}
\def\rank{\mathop{\hbox{\rm rank}}}
\def\Range{\mathop{\hbox{\rm range}}}
\def\range{\mathop{\hbox{\rm range}}}
\def\sign{\mathop{\hbox{\rm sign}}}
\def\sgn{\mathop{\hbox{\rm sgn}}}
\def\Span{\mbox{\rm span}}
\def\trace{\mathop{\hbox{\rm trace}}}
\def\grad#1{{\nabla_{\! #1}}}
\def\Hess{\nabla^2}
\def\half{{\textstyle{1\over 2}}}
\def\third {{\textstyle{1\over 3}}}
\def\fourth{{\textstyle{1\over 4}}}
\def\sixth{{\textstyle{1\over 6}}}
\def\Nth{{\textstyle{1\over N}}}
\def\nth{{\textstyle{1\over n}}}
\def\mth{{\textstyle{1\over m}}}
\def\limk{\lim_{k\to\infty}}
\def\limN{\lim_{N\to\infty}}
\def\normm#1{\biggl\|#1\biggr\|}
\def\norm#1{\|#1\|}
\def\spose#1{\hbox to 0pt{#1\hss}}
\def\sub#1{^{\null}_{#1}}

% Operator notation
\newcommand{\proj}{\mathrm{proj}}
\def\fix{\mathrm{fix}}
\def\gra{\operatorname{gra}}
\def\zer{\operatorname{zer}}
\def\dom{\operatorname{dom}}
\def\ran{\operatorname{ran}}
\def\J{\mathrm{J}{}}
\newcommand{\Id}{\mathrm{Id}}
\def\nc{\mathrm{N}}
\def\H{\mc{H}}

%Greek letters
\def\a{\alpha}
\def\o{\omega}
\def\g{\gamma}
\def\e{\epsilon}
\def\l{\lambda}

%Sets
\def\R{\mathbb{R}}
\def\N{\mathbb{N}}
\def\Y{\mathcal{Y}}
\def\X{\mathcal{X}}

%Special characters 
\def\Fc{\mathcal{F}}
\def\Nc{\mathcal{N}}
\def\Ic{\mathcal{I}}
\def\Ac{\mathcal{A}}
\def\Bc{\mathcal{B}}
\def\Fc{\mathcal{F}}
\def\nbar{\skew2\bar n}

\def\xhat{{\hat x}}
\def\yhat{{\hat y}}
\def\lhat{{\hat \l}}
\def\zhat{{\hat z}}
\def\vhat{{\hat v}}
\def\ohat{{\hat \o}}

\def\xtilde{{\tilde x}}
\def\ytilde{{\tilde y}}
\def\ztilde{{\tilde z}}
\def\vtilde{{\tilde v}}
\def\otilde{{\tilde \o}}

\def\xbar{{\bar x}}
\def\ybar{{\bar y}}
\def\lbar{{\bar \l}}
\def\zbar{{\bar z}}
\def\obar{{\bar \o}}

\def\xbs{{\bs x}}
\def\ybs{{\bs y}}
\def\obs{{\bs \o}}
\def\lbs{{\bs \l}}
\def\zbs{{\bs z}}
\def\vbs{{\bs v}}
\def\ubs{{\bs u}}

\def\xbshat{{\hat{\bs x}}}
\def\ybshat{{\hat{\bs y}}}
\def\obshat{{\hat{\bs \o}}}
\def\lbshat{{\hat{\bs \l}}}
\def\zbshat{{\hat{\bs z}}}
\def\vbshat{{\hat{bs v}}}

\def\xbstilde{{\tilde{\bs x}}}
\def\ybstilde{{\tilde{\bs y}}}
\def\obstilde{{\tilde{\bs \o}}}
\def\lbstilde{{\tilde{\bs \l}}}
\def\zbstilde{{\tilde{\bs z}}}
\def\vbstilde{{\tilde{bs v}}}

\def\xbsbar{{\bar{\bs x}}}
\def\ybsbar{{\bar{\bs y}}}
\def\obsbar{{\bar{\bs \o}}}
\def\lbsbar{{\bar{\bs \l}}}
\def\zbsbar{{\bar{\bs z}}}
\def\vbsbar{{\bar{bs v}}}

%Customized
\def\F{\bs{F}}
\def\Fa{\bs{F}_{\!  \textrm{a}}}
\def\Fi{\bs{\tilde{F}}_{\! i}}
\def\ha{{ \hphantom{{}={}} }}
\def\I{\mc{I}}
\def\i{{i\in\mc{I}}}
\def\neigi{\mc{N}_i}
\def\neigo{\mc{M}_i}
\def\ar{\red{[add refs]}}
\def\Gammainv{{\Gamma^{-1}}}

\usepackage{mathbbol}
\DeclareSymbolFontAlphabet{\mathbbm}{bbold}
\DeclareSymbolFontAlphabet{\mathbb}{AMSb}%
%\usepackage{mathbbol}
\def\h{\mathbbm{x}^\star}
%\def\h{h}

\DeclareSymbolFont{myletters}{OML}{ztmcm}{m}{it}
\DeclareMathSymbol{\uplambda}{\mathord}{myletters}{"15}


\usepackage{xcolor}






%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\newcommand{\alphamax}{\alpha_{\textnormal{max}}}
\newcommand{\alphamaxtilde}{\tilde{\alpha}_{\textnormal{max}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\QEDhereeqn{\eqno\let\eqno\relax\let\leqno\relax\let\veqno\relax\hbox{\QED}}
\def\QEDopenhereeqn{\eqno\let\eqno\relax\let\leqno\relax\let\veqno\relax\hbox{\QEDopen}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Trying out some stuff for this particular paper
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\indent}{\noindent\hspace*{8pt}\ignorespaces}

%Crossref
\makeatletter \let\cl@part\relax \makeatother
\usepackage{nohyperref}
\usepackage[capitalize]{cleveref}
\def\k{{k \in \N}}  %there is some conflict with this command
\usepackage{letltxmacro}

\crefname{thm}{Theorem}{Theorem}
\crefname{lem}{Lemma}{Lemma}
\crefname{cor}{Corollary}{Corollary}
\crefname{claim}{Claim}{Claim}
\crefname{axiom}{Axiom}{Axiom}
\crefname{conj}{Conjecture}{Conjecture}
\crefname{fact}{Fact}{Fact}
\crefname{hypo}{Hypothesis}{Hypothesis}
\crefname{assum}{Assumption}{Assumption}
\crefname{prop}{Proposition}{Proposition}
\crefname{crit}{Criterion}{Criterion}
\crefname{standing}{Standing Assumption}{Standing Assumption}
\crefname{defn}{Definition}{Definition}
\crefname{exmp}{Example}{Example}
\crefname{rem}{Remark}{Remark}
\crefname{prob}{Problem}{Problem}
\crefname{prin}{Principle}{Principle}
\crefname{alg}{Algorithm}{Algorithm}
\crefname{figure}{Figure}{Figures}
\crefname{assumption}{Assumption}{Assumptions}

\crefname{thmlisti}{Theorem}{Theorems}
\crefname{lemlisti}{Lemma}{Lemma}
\crefname{asmlisti}{Assumption}{Assumption}

%\newlist{thmlist}{enumerate}{1}
%\setlist[thmlist]{label={\it(\roman{thmlisti})}, ref=\thethm{(\it \roman{thmlisti})},noitemsep,topsep=-1em}
%\newlist{thmlist2}{enumerate}{1}
%\setlist[thmlist2]{label={(C\arabic{thmlist2i})}, ref={{(C\arabic{thmlist2i})}},topsep=0em}

\newlist{thmlist}{enumerate}{1}
\setlist[thmlist]{label=(\roman{thmlisti}), ref=\thethm(\roman{thmlisti}),noitemsep}
\newlist{lemlist}{enumerate}{1}
\setlist[lemlist]{label=(\roman{lemlisti}), ref=\thelem(\roman{lemlisti}),noitemsep}
\newlist{asmlist}{enumerate}{1}
\setlist[asmlist]{label=(\roman{asmlisti}), ref=\theassumption(\roman{asmlisti}),noitemsep,nosep,leftmargin=*} %wide=0pt


\newtheorem{definition}{Definition}
\newtheorem{example}{Example}
\newtheorem{corollary}{Corollary}
\newtheorem{proposition}{Proposition}
\newtheorem{lemma}{Lemma}
\newtheorem{theorem}{Theorem}
\newtheorem{remark}{Remark}
\newtheorem{assumption}{Assumption}
%\newenvironment{proof}[1][Proof]{\noindent\textbf{#1.} }{\ \rule{0.5em}{0.5em}}
\newtheorem{standing}{Standing Assumption}

\usepackage{stackengine}
\stackMath
\newcommand\tsup[2][2]{%
	\def\useanchorwidth{T}%
	\ifnum#1>1%
	\stackon[-.5pt]{\tsup[\numexpr#1-1\relax]{#2}}{\scriptscriptstyle\sim}%
	\else%
	\stackon[.5pt]{#2}{\scriptscriptstyle\sim}%
	\fi%
}